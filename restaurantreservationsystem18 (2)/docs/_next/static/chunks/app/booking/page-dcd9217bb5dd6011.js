(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[355],{41795:function(e,a,t){Promise.resolve().then(t.bind(t,57599))},57599:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return J}});var s=t(57437),r=t(2265),n=t(95186),i=t(62869),l=t(66070),o=t(35974),c=t(53647),d=t(77580),u=t(83774);function m(e){let{onRestaurantSelect:a}=e,[t,o]=(0,r.useState)(""),[m,x]=(0,r.useState)("all"),[p,g]=(0,r.useState)(""),[f,b]=(0,r.useState)([]),[j,v]=(0,r.useState)(!1),[y,N]=(0,r.useState)("prompt"),[w,k]=(0,r.useState)(null);(0,r.useEffect)(()=>{C()},[t,m,p]),(0,r.useEffect)(()=>{C()},[]);let C=async()=>{v(!0);try{console.log("[v0] Starting restaurant search...");let e=await d.q.searchRestaurants(t,m,p,w||void 0);console.log("[v0] Search completed, found:",e.length,"restaurants"),b(e)}catch(e){console.error("Search failed:",e)}finally{v(!1)}},S=async()=>{if("geolocation"in navigator)try{v(!0),g("Detecting location...");let e=await new Promise((e,a)=>{navigator.geolocation.getCurrentPosition(e,a,{enableHighAccuracy:!0,timeout:15e3,maximumAge:6e4})});console.log("[v0] Location obtained:",e.coords);let a={lat:e.coords.latitude,lng:e.coords.longitude};k(a);let s=await d.q.getLocationFromCoords(a.lat,a.lng);g(s),N("granted"),console.log("[v0] Set location to:",s,"with coords:",a),v(!0);try{let e=await d.q.searchRestaurants(t,m,s,a);console.log("[v0] Location-based search completed, found:",e.length,"nearby restaurants"),b(e)}catch(e){console.error("Location-based search failed:",e)}}catch(e){if(N("denied"),g(""),console.error("Location access denied:",e),e instanceof GeolocationPositionError)switch(e.code){case e.PERMISSION_DENIED:alert("Location access denied. Please enable location services and try again, or enter your location manually.");break;case e.POSITION_UNAVAILABLE:alert("Location information unavailable. Please enter your location manually.");break;case e.TIMEOUT:alert("Location request timed out. Please try again or enter your location manually.");break;default:alert("An error occurred while retrieving your location. Please enter your location manually.")}else alert("Location access denied. You can still search by entering a location manually.")}finally{v(!1)}else alert("Geolocation is not supported by this browser. Please enter your location manually.")};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(l.Zb,{children:[(0,s.jsxs)(l.Ol,{children:[(0,s.jsx)(l.ll,{children:"Find Restaurants"}),(0,s.jsx)(l.SZ,{children:"granted"===y&&w?"Showing restaurants near your location":"Search for restaurants by name, cuisine, or location"})]}),(0,s.jsxs)(l.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(n.I,{placeholder:"Search restaurants...",value:t,onChange:e=>o(e.target.value),className:"flex-1"}),(0,s.jsx)(i.z,{onClick:S,variant:"outline",disabled:"granted"===y||j,className:"whitespace-nowrap bg-transparent",children:j&&"Detecting location..."===p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"}),"Detecting..."]}):"granted"===y?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Z,{className:"w-4 h-4 mr-2 text-green-600"}),"Location Enabled"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),"Use My Location"]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)(c.Ph,{value:m,onValueChange:x,children:[(0,s.jsx)(c.i4,{children:(0,s.jsx)(c.ki,{placeholder:"Select cuisine type"})}),(0,s.jsxs)(c.Bw,{children:[(0,s.jsx)(c.Ql,{value:"all",children:"All Cuisines"}),["Italian","Mediterranean","Asian","American","Mexican","Indian","North Indian","South Indian","French","Japanese","European","Street Food","Vegetarian"].map(e=>(0,s.jsx)(c.Ql,{value:e.toLowerCase(),children:e},e))]})]}),(0,s.jsx)(n.I,{placeholder:"granted"===y?"Location detected successfully!":"Enter location...",value:p,onChange:e=>g(e.target.value),className:"granted"===y?"border-green-200 bg-green-50":""})]}),"granted"===y&&w&&(0,s.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,s.jsxs)("p",{className:"text-sm text-green-800",children:["✓ Location detected successfully! Showing ",f.length," restaurants near you."]})}),"denied"===y&&(0,s.jsx)("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,s.jsx)("p",{className:"text-sm text-yellow-800",children:"Location access denied. You can still search by entering a location manually."})})]})]}),(0,s.jsx)("div",{className:"space-y-4",children:j?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2",children:"granted"===y?"Finding nearby restaurants...":"Searching restaurants..."})]}):f.length>0?f.map(e=>(0,s.jsx)(h,{restaurant:e,onSelect:()=>a(e),showDistance:"granted"===y&&null!==w,userCoords:w},e.id)):(0,s.jsx)(l.Zb,{children:(0,s.jsx)(l.aY,{className:"py-8 text-center",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:t||"all"!==m||p?"No restaurants found. Try adjusting your search criteria.":"Loading restaurants..."})})})})]})}function h(e){let{restaurant:a,onSelect:t,showDistance:r=!1,userCoords:n}=e,i=r&&n?({"rest-1":.5,"rest-2":1.2,"rest-3":.8,"rest-4":2.1,"rest-5":1.5,"rest-6":.3,"rest-7":1.8,"rest-8":2.5,"rest-9":.7})[a.id]||3*Math.random():null;return(0,s.jsxs)(l.Zb,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:t,children:[(0,s.jsxs)("div",{className:"relative h-48 w-full overflow-hidden rounded-t-lg",children:[(0,s.jsx)("img",{src:a.image||"/placeholder.svg?height=192&width=400&query=".concat(encodeURIComponent((e=>{var a;let t=(null===(a=e.cuisine[0])||void 0===a?void 0:a.toLowerCase())||"restaurant",s=e.priceRange,r={italian:"elegant Italian restaurant interior with exposed brick walls, warm lighting, wine bottles, checkered tablecloths, and authentic Italian decor",indian:"authentic Indian restaurant with traditional decor, warm spices display, tandoor oven, colorful tapestries, and ornate brass details","north indian":"royal North Indian restaurant with rich red and gold decor, traditional artwork, elegant dining setup, and Mughlai ambiance","south indian":"traditional South Indian restaurant with banana leaf service, wooden furniture, temple-style architecture, and authentic Kerala decor",mediterranean:"Mediterranean restaurant with blue and white decor, olive trees, stone walls, seaside ambiance, and rustic charm",asian:"modern Asian fusion restaurant with bamboo elements, zen garden, minimalist design, and contemporary Asian artwork",american:"classic American diner with red leather booths, checkered floors, neon signs, and vintage Americana decor",mexican:"vibrant Mexican restaurant with colorful tiles, papel picado, rustic wooden tables, and festive atmosphere",french:"sophisticated French bistro with vintage posters, wine cellar, elegant table settings, and Parisian charm",japanese:"authentic Japanese restaurant with sushi bar, wooden elements, paper lanterns, and minimalist zen design",european:"cozy European cafe with outdoor seating, cobblestone patio, flower boxes, and continental charm","street food":"bustling street food market with food stalls, colorful signage, casual seating, and vibrant atmosphere",vegetarian:"fresh vegetarian restaurant with green plants, natural lighting, organic decor, and healthy food displays"}[t]||"upscale ".concat(t," restaurant with elegant interior design, professional lighting, and inviting dining atmosphere");return"$$$"===s||"$$$$"===s?"luxury ".concat(r," with premium finishes, crystal chandeliers, and fine dining presentation"):"$$"===s?"modern ".concat(r," with comfortable seating and contemporary design"):"cozy ".concat(r," with casual atmosphere and welcoming environment")})(a))||"/placeholder.svg"),alt:"".concat(a.name," - ").concat(a.cuisine.join(", ")," restaurant interior"),className:"h-full w-full object-cover transition-transform hover:scale-105"}),(0,s.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2",children:[(0,s.jsx)(o.C,{variant:"secondary",className:"bg-white/90 text-black",children:a.priceRange}),i&&(0,s.jsxs)(o.C,{variant:"outline",className:"bg-white/90 text-black border-white/50",children:[i.toFixed(1)," km"]})]})]}),(0,s.jsx)(l.Ol,{className:"pb-2",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(l.ll,{className:"text-xl",children:a.name}),(0,s.jsx)(l.SZ,{className:"mt-1",children:a.description})]}),(0,s.jsx)("div",{className:"text-right ml-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),(0,s.jsx)("span",{className:"text-sm font-medium",children:a.rating})]})})]})}),(0,s.jsx)(l.aY,{children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,s.jsxs)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),a.address,i&&(0,s.jsxs)("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:["~",Math.ceil(3*i)," min walk"]})]}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),a.cuisine.join(", ")]}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),a.phone]})]})})]})}var x=t(65613),p=t(45008),g=t(92451),f=t(10407),b=t(40875),j=t(92658),v=t(65398),y=t(94508);function N(){let e=(0,p._)(["rtl:**:[.rdp-button_next>svg]:rotate-180"],["rtl:**:[.rdp-button\\_next>svg]:rotate-180"]);return N=function(){return e},e}function w(){let e=(0,p._)(["rtl:**:[.rdp-button_previous>svg]:rotate-180"],["rtl:**:[.rdp-button\\_previous>svg]:rotate-180"]);return w=function(){return e},e}function k(e){let{className:a,classNames:t,showOutsideDays:r=!0,captionLayout:n="label",buttonVariant:l="ghost",formatters:o,components:c,...d}=e,u=(0,j.U)();return(0,s.jsx)(v._,{showOutsideDays:r,className:(0,y.cn)("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw(N()),String.raw(w()),a),captionLayout:n,formatters:{formatMonthDropdown:e=>e.toLocaleString("default",{month:"short"}),...o},classNames:{root:(0,y.cn)("w-fit",u.root),months:(0,y.cn)("flex gap-4 flex-col md:flex-row relative",u.months),month:(0,y.cn)("flex flex-col w-full gap-4",u.month),nav:(0,y.cn)("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",u.nav),button_previous:(0,y.cn)((0,i.d)({variant:l}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",u.button_previous),button_next:(0,y.cn)((0,i.d)({variant:l}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",u.button_next),month_caption:(0,y.cn)("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",u.month_caption),dropdowns:(0,y.cn)("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",u.dropdowns),dropdown_root:(0,y.cn)("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",u.dropdown_root),dropdown:(0,y.cn)("absolute bg-popover inset-0 opacity-0",u.dropdown),caption_label:(0,y.cn)("select-none font-medium","label"===n?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",u.caption_label),table:"w-full border-collapse",weekdays:(0,y.cn)("flex",u.weekdays),weekday:(0,y.cn)("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",u.weekday),week:(0,y.cn)("flex w-full mt-2",u.week),week_number_header:(0,y.cn)("select-none w-(--cell-size)",u.week_number_header),week_number:(0,y.cn)("text-[0.8rem] select-none text-muted-foreground",u.week_number),day:(0,y.cn)("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",u.day),range_start:(0,y.cn)("rounded-l-md bg-accent",u.range_start),range_middle:(0,y.cn)("rounded-none",u.range_middle),range_end:(0,y.cn)("rounded-r-md bg-accent",u.range_end),today:(0,y.cn)("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",u.today),outside:(0,y.cn)("text-muted-foreground aria-selected:text-muted-foreground",u.outside),disabled:(0,y.cn)("text-muted-foreground opacity-50",u.disabled),hidden:(0,y.cn)("invisible",u.hidden),...t},components:{Root:e=>{let{className:a,rootRef:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"calendar",ref:t,className:(0,y.cn)(a),...r})},Chevron:e=>{let{className:a,orientation:t,...r}=e;return"left"===t?(0,s.jsx)(g.Z,{className:(0,y.cn)("size-4",a),...r}):"right"===t?(0,s.jsx)(f.Z,{className:(0,y.cn)("size-4",a),...r}):(0,s.jsx)(b.Z,{className:(0,y.cn)("size-4",a),...r})},DayButton:C,WeekNumber:e=>{let{children:a,...t}=e;return(0,s.jsx)("td",{...t,children:(0,s.jsx)("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:a})})},...c},...d})}function C(e){let{className:a,day:t,modifiers:n,...l}=e,o=(0,j.U)(),c=r.useRef(null);return r.useEffect(()=>{var e;n.focused&&(null===(e=c.current)||void 0===e||e.focus())},[n.focused]),(0,s.jsx)(i.z,{ref:c,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:(0,y.cn)("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",o.day,a),...l})}var S=t(26815);function P(e){let{restaurant:a,partySize:t,selectedDate:n,selectedTime:c,onTableSelect:d,onBack:u}=e,[m,h]=(0,r.useState)(null),[p,g]=(0,r.useState)([]),f=(null==a?void 0:a.tables)||[];(0,r.useEffect)(()=>{g(f.filter(e=>e.capacity>=t&&"available"===e.status).sort((e,a)=>e.capacity-a.capacity)),h(null)},[t,f]);let b=e=>{h(e)};return(0,s.jsxs)(l.Zb,{children:[(0,s.jsx)(l.Ol,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(l.ll,{children:"Select Your Table"}),(0,s.jsxs)(l.SZ,{children:["Choose your preferred table for ",t," ",1===t?"person":"people"," on ",n,c&&" at ".concat(c)]})]}),(0,s.jsx)(i.z,{variant:"outline",onClick:u,children:"Back"})]})}),(0,s.jsxs)(l.aY,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"p-4 bg-muted rounded-lg",children:[(0,s.jsx)("h3",{className:"font-semibold",children:a.name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:a.address})]}),0===p.length?(0,s.jsx)(x.bZ,{children:(0,s.jsxs)(x.X,{children:["No tables available for ",t," ",1===t?"person":"people"," at this time."]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h4",{className:"font-medium text-green-700",children:["Available Tables (",p.length,")"]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(e=>{var a;let r=(null===(a=p[0])||void 0===a?void 0:a.id)===e.id,n=(null==m?void 0:m.id)===e.id;return(0,s.jsx)(l.Zb,{onClick:()=>b(e),className:"cursor-pointer border transition-all duration-200 ".concat(n?"ring-2 ring-green-500 border-green-500 shadow-lg":r?"border-yellow-400 hover:border-yellow-500 ring-1 ring-yellow-300":"hover:border-green-400"),children:(0,s.jsxs)(l.aY,{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-2 items-center",children:[(0,s.jsxs)("span",{className:"font-semibold",children:["Table ",e.number]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[r&&(0,s.jsx)(o.C,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:"Best Fit"}),(0,s.jsx)(o.C,{className:"bg-green-100 text-green-800 border-green-200",children:"Available"})]})]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Seats ",e.capacity," • ",e.location,e.capacity>t&&(0,s.jsxs)("span",{className:"text-xs text-green-600 ml-1",children:["(",e.capacity-t," extra seat",e.capacity-t>1?"s":"",")"]})]})]})},e.id)})})]}),m&&(0,s.jsxs)("div",{className:"p-4 bg-primary/5 border border-primary/20 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium text-primary mb-2",children:"Selected Table"}),(0,s.jsxs)("p",{className:"text-sm",children:["Table ",m.number," • ",m.capacity," people •"," ",m.location]})]}),(0,s.jsx)(i.z,{className:"w-full",disabled:!m,onClick:()=>{m&&d(m)},children:m?"Continue with Table ".concat(m.number):"Select a table to continue"})]})]})]})}var z=t(52255);function L(e){let{restaurant:a,selectedTable:t,bookingDetails:d,onPaymentComplete:u,onBack:m}=e,[h,p]=(0,r.useState)(!1),[g,f]=(0,r.useState)(""),[b,j]=(0,r.useState)({cardNumber:"",expiryDate:"",cvv:"",cardholderName:"",billingAddress:"",city:"",zipCode:"",paymentMethod:"card"}),v=(()=>{let e={$:15,$$:25,$$$:45,$$$$:75}[a.priceRange]||25,s="private"===t.location?20:"outdoor"===t.location?5:0,r=e*d.partySize+5+s,n=.08*r;return{basePrice:e,reservationFee:5,tableUpcharge:s,subtotal:r,tax:n,total:r+n}})(),y=async()=>{p(!0),f("");try{if("card"===b.paymentMethod){if(!b.cardNumber||!b.expiryDate||!b.cvv||!b.cardholderName)throw Error("Please fill in all card details");if(b.cardNumber.replace(/\s/g,"").length<13)throw Error("Please enter a valid card number")}if(await new Promise(e=>setTimeout(e,2e3)),Math.random()>.1){let e="pay_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9));u(e)}else throw Error("Payment failed. Please try again or use a different payment method.")}catch(e){f(e instanceof Error?e.message:"Payment failed")}finally{p(!1)}},N=e=>{let a=e.replace(/\s+/g,"").replace(/[^0-9]/gi,""),t=a.match(/\d{4,16}/g),s=t&&t[0]||"",r=[];for(let e=0,a=s.length;e<a;e+=4)r.push(s.substring(e,e+4));return r.length?r.join(" "):a},w=e=>{let a=e.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return a.length>=2?a.substring(0,2)+"/"+a.substring(2,4):a};return(0,s.jsxs)(l.Zb,{children:[(0,s.jsx)(l.Ol,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(l.ll,{children:"Payment & Confirmation"}),(0,s.jsx)(l.SZ,{children:"Complete your reservation with secure payment"})]}),(0,s.jsx)(i.z,{variant:"outline",onClick:m,children:"Back"})]})}),(0,s.jsxs)(l.aY,{className:"space-y-6",children:[g&&(0,s.jsx)(x.bZ,{variant:"destructive",children:(0,s.jsx)(x.X,{children:g})}),(0,s.jsxs)("div",{className:"p-4 border rounded-lg bg-muted/50",children:[(0,s.jsx)("h3",{className:"font-semibold mb-3",children:"Reservation Summary"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Restaurant:"}),(0,s.jsx)("span",{className:"font-medium",children:a.name})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Date & Time:"}),(0,s.jsxs)("span",{className:"font-medium",children:[(0,z.WU)(new Date(d.date),"MMM dd, yyyy")," at ",d.time]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Party Size:"}),(0,s.jsxs)("span",{className:"font-medium",children:[d.partySize," people"]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Table:"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("span",{className:"font-medium",children:["Table ",t.number]}),(0,s.jsx)(o.C,{variant:"outline",className:"text-xs",children:t.location})]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Customer:"}),(0,s.jsx)("span",{className:"font-medium",children:d.customerName})]})]})]}),(0,s.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,s.jsx)("h3",{className:"font-semibold mb-3",children:"Pricing Breakdown"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("span",{children:["Base Price (",d.partySize," \xd7 $",v.basePrice,"):"]}),(0,s.jsxs)("span",{children:["$",(v.basePrice*d.partySize).toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Reservation Fee:"}),(0,s.jsxs)("span",{children:["$",v.reservationFee.toFixed(2)]})]}),v.tableUpcharge>0&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("span",{children:["private"===t.location?"Private Room":"Outdoor Seating"," Fee:"]}),(0,s.jsxs)("span",{children:["$",v.tableUpcharge.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-muted-foreground",children:[(0,s.jsx)("span",{children:"Subtotal:"}),(0,s.jsxs)("span",{children:["$",v.subtotal.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-muted-foreground",children:[(0,s.jsx)("span",{children:"Tax (8%):"}),(0,s.jsxs)("span",{children:["$",v.tax.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"border-t pt-2 flex justify-between font-semibold text-lg",children:[(0,s.jsx)("span",{children:"Total:"}),(0,s.jsxs)("span",{children:["$",v.total.toFixed(2)]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(S._,{children:"Payment Method"}),(0,s.jsxs)(c.Ph,{value:b.paymentMethod,onValueChange:e=>j(a=>({...a,paymentMethod:e})),children:[(0,s.jsx)(c.i4,{children:(0,s.jsx)(c.ki,{})}),(0,s.jsxs)(c.Bw,{children:[(0,s.jsx)(c.Ql,{value:"card",children:"Credit/Debit Card"}),(0,s.jsx)(c.Ql,{value:"paypal",children:"PayPal"}),(0,s.jsx)(c.Ql,{value:"phonepe",children:"PhonePe"}),(0,s.jsx)(c.Ql,{value:"google-pay",children:"Google Pay"}),(0,s.jsx)(c.Ql,{value:"apple-pay",children:"Apple Pay"})]})]})]}),"card"===b.paymentMethod&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(S._,{htmlFor:"cardNumber",children:"Card Number *"}),(0,s.jsx)(n.I,{id:"cardNumber",placeholder:"1234 5678 9012 3456",value:b.cardNumber,onChange:e=>j(a=>({...a,cardNumber:N(e.target.value)})),maxLength:19})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(S._,{htmlFor:"expiryDate",children:"Expiry Date *"}),(0,s.jsx)(n.I,{id:"expiryDate",placeholder:"MM/YY",value:b.expiryDate,onChange:e=>j(a=>({...a,expiryDate:w(e.target.value)})),maxLength:5})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(S._,{htmlFor:"cvv",children:"CVV *"}),(0,s.jsx)(n.I,{id:"cvv",placeholder:"123",value:b.cvv,onChange:e=>j(a=>({...a,cvv:e.target.value.replace(/\D/g,"").substring(0,4)})),maxLength:4})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(S._,{htmlFor:"cardholderName",children:"Cardholder Name *"}),(0,s.jsx)(n.I,{id:"cardholderName",placeholder:"John Doe",value:b.cardholderName,onChange:e=>j(a=>({...a,cardholderName:e.target.value}))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(S._,{htmlFor:"billingAddress",children:"Billing Address"}),(0,s.jsx)(n.I,{id:"billingAddress",placeholder:"123 Main Street",value:b.billingAddress,onChange:e=>j(a=>({...a,billingAddress:e.target.value}))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(S._,{htmlFor:"city",children:"City"}),(0,s.jsx)(n.I,{id:"city",placeholder:"New York",value:b.city,onChange:e=>j(a=>({...a,city:e.target.value}))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(S._,{htmlFor:"zipCode",children:"ZIP Code"}),(0,s.jsx)(n.I,{id:"zipCode",placeholder:"10001",value:b.zipCode,onChange:e=>j(a=>({...a,zipCode:e.target.value.replace(/\D/g,"").substring(0,5)})),maxLength:5})]})]})]}),"paypal"===b.paymentMethod&&(0,s.jsx)("div",{className:"p-6 border-2 border-blue-200 rounded-lg bg-blue-50",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-bold text-xl",children:"PP"})}),(0,s.jsx)("h3",{className:"font-semibold text-blue-900",children:"Pay with PayPal"}),(0,s.jsx)("div",{className:"bg-white p-4 rounded-lg border-2 border-blue-300",children:(0,s.jsx)("img",{src:"/paypal-qr-code-for-payment.jpg",alt:"PayPal QR Code",className:"w-32 h-32"})}),(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("p",{className:"text-sm text-blue-800 font-medium",children:"Scan QR code with PayPal app or click below"}),(0,s.jsxs)("p",{className:"text-xs text-blue-600",children:["Amount: $",v.total.toFixed(2)]})]})]})}),"phonepe"===b.paymentMethod&&(0,s.jsx)("div",{className:"p-6 border-2 border-purple-200 rounded-lg bg-purple-50",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-purple-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-bold text-sm",children:"PhonePe"})}),(0,s.jsx)("h3",{className:"font-semibold text-purple-900",children:"Pay with PhonePe"}),(0,s.jsx)("div",{className:"bg-white p-4 rounded-lg border-2 border-purple-300",children:(0,s.jsx)("img",{src:"/phonepay_irfan.jpeg",alt:"PhonePe QR Code",className:"w-32 h-32"})}),(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("p",{className:"text-sm text-purple-800 font-medium",children:"Scan QR code with PhonePe app"}),(0,s.jsxs)("p",{className:"text-xs text-purple-600",children:["UPI ID: restaurant@phonepe | Amount: ₹",(83*v.total).toFixed(0)]})]})]})}),"google-pay"===b.paymentMethod&&(0,s.jsx)("div",{className:"p-6 border-2 border-green-200 rounded-lg bg-green-50",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-green-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-bold text-sm",children:"GPay"})}),(0,s.jsx)("h3",{className:"font-semibold text-green-900",children:"Pay with Google Pay"}),(0,s.jsx)("div",{className:"bg-white p-4 rounded-lg border-2 border-green-300",children:(0,s.jsx)("img",{src:"/google-pay-qr-code-for-upi-payment.jpg",alt:"Google Pay QR Code",className:"w-32 h-32"})}),(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("p",{className:"text-sm text-green-800 font-medium",children:"Scan QR code with Google Pay app"}),(0,s.jsxs)("p",{className:"text-xs text-green-600",children:["UPI ID: restaurant@googlepay | Amount: ₹",(83*v.total).toFixed(0)]})]})]})}),"apple-pay"===b.paymentMethod&&(0,s.jsx)("div",{className:"p-6 border-2 border-dashed border-muted-foreground/25 rounded-lg text-center",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-black rounded-lg mx-auto flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})})}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Use Touch ID or Face ID to pay with Apple Pay."})]})}),(0,s.jsxs)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-green-800",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Secure Payment"})]}),(0,s.jsx)("p",{className:"text-xs text-green-700 mt-1",children:"Your payment information is encrypted and secure. We never store your card details."})]}),(0,s.jsx)(i.z,{className:"w-full",onClick:y,disabled:h,size:"lg",children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing Payment..."]}):"Pay $".concat(v.total.toFixed(2)," & Confirm Reservation")}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"By completing this reservation, you agree to our terms of service and cancellation policy."})]})]})}function M(e){let{restaurant:a,onBookingComplete:t,onBack:n}=e,[o,c]=(0,r.useState)("datetime"),[d,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)(""),[p,g]=(0,r.useState)(null),[f,b]=(0,r.useState)(void 0),[j,v]=(0,r.useState)({date:"",time:"",partySize:2}),y=async e=>{u(!0),h("");try{let e="RESV-"+Math.random().toString(36).substr(2,9);t(e)}catch(e){h(e instanceof Error?e.message:"Booking failed")}finally{u(!1)}};return"datetime"===o?(0,s.jsxs)(l.Zb,{className:"border-0 shadow-none bg-transparent",children:[(0,s.jsx)(l.Ol,{className:"pb-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(l.ll,{className:"text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Select Date"}),(0,s.jsx)(l.SZ,{className:"text-lg text-muted-foreground mt-2",children:"Choose your preferred reservation date"})]}),(0,s.jsx)(i.z,{variant:"outline",onClick:n,className:"hover:bg-card transition-all duration-300 bg-transparent",children:"← Back to Search"})]})}),(0,s.jsxs)(l.aY,{className:"space-y-8",children:[(0,s.jsx)("div",{className:"p-6 gradient-card rounded-2xl border border-border/20 shadow-lg",children:(0,s.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 gradient-primary rounded-xl flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-card-foreground",children:a.name}),(0,s.jsx)("p",{className:"text-muted-foreground",children:a.address})]})]})}),(0,s.jsx)(S._,{className:"text-base font-semibold text-foreground",children:"Select Date"}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(k,{mode:"single",selected:f,onSelect:e=>{if(b(e),e){let a=(0,z.WU)(e,"yyyy-MM-dd");v(e=>({...e,date:a}))}},disabled:e=>e<new Date,className:"rounded-md border border-border/50 p-4 bg-card shadow-lg"})}),(0,s.jsx)(i.z,{className:"w-full h-14 text-lg font-semibold gradient-primary hover:shadow-xl hover:shadow-primary/30 transition-all duration-300",disabled:!j.date,onClick:()=>c("table"),children:"Continue to Table Selection →"})]})]}):"table"===o?(0,s.jsx)(P,{restaurant:a,partySize:j.partySize,selectedDate:j.date,selectedTime:j.time,onTableSelect:e=>{g(e),c("payment")},onBack:()=>c("datetime")}):"payment"===o&&p?(0,s.jsx)(L,{restaurant:a,selectedTable:p,bookingDetails:j,onPaymentComplete:e=>{y(e)},onBack:()=>c("table")}):(0,s.jsxs)(l.Zb,{children:[(0,s.jsxs)(l.Ol,{children:[(0,s.jsx)(l.ll,{children:"Confirm Your Reservation"}),(0,s.jsx)(l.SZ,{children:"Review and confirm your booking details"})]}),(0,s.jsxs)(l.aY,{className:"space-y-6",children:[m&&(0,s.jsx)(x.bZ,{variant:"destructive",children:(0,s.jsx)(x.X,{children:m})}),(0,s.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg mb-2",children:a.name}),(0,s.jsx)("p",{children:(0,z.WU)(new Date(j.date),"EEEE, MMM dd, yyyy")}),(0,s.jsxs)("p",{children:[j.partySize," guests"]}),p&&(0,s.jsxs)("p",{children:["Table ",p.number," • ",p.capacity," seats • ",p.location]})]}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)(i.z,{variant:"outline",onClick:()=>c("table"),className:"flex-1",children:"Back"}),(0,s.jsx)(i.z,{onClick:()=>y(),disabled:d,className:"flex-1",children:d?"Confirming...":"Confirm Reservation"})]})]})]})}function I(e){let{reservationId:a,onNewBooking:t}=e;return(0,s.jsxs)(l.Zb,{className:"max-w-md mx-auto",children:[(0,s.jsxs)(l.Ol,{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,s.jsx)(l.ll,{className:"text-2xl text-green-700",children:"Reservation Submitted!"})]}),(0,s.jsxs)(l.aY,{className:"text-center space-y-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,s.jsx)("p",{className:"font-medium text-green-900",children:"Reservation ID"}),(0,s.jsx)("p",{className:"text-lg font-mono text-green-700",children:a})]}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground space-y-2",children:[(0,s.jsx)("p",{children:"Your reservation request has been submitted successfully!"}),(0,s.jsx)("p",{children:"The restaurant will confirm your booking within 15 minutes."}),(0,s.jsx)("p",{children:"You will receive a confirmation email shortly."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.z,{onClick:t,className:"w-full",children:"Make Another Reservation"}),(0,s.jsx)(i.z,{variant:"outline",className:"w-full bg-transparent",onClick:()=>window.location.href="/",children:"Back to Home"})]})]})]})}var _=t(38846);function T(e){let{className:a,defaultValue:t,value:n,min:i=0,max:l=100,...o}=e,c=r.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[i,l],[n,t,i,l]);return(0,s.jsxs)(_.fC,{"data-slot":"slider",defaultValue:t,value:n,min:i,max:l,className:(0,y.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",a),...o,children:[(0,s.jsx)(_.fQ,{"data-slot":"slider-track",className:(0,y.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,s.jsx)(_.e6,{"data-slot":"slider-range",className:(0,y.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:c.length},(e,a)=>(0,s.jsx)(_.bU,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},a))]})}var D=t(9270),R=t(30401);function A(e){let{className:a,...t}=e;return(0,s.jsx)(D.fC,{"data-slot":"checkbox",className:(0,y.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...t,children:(0,s.jsx)(D.z$,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,s.jsx)(R.Z,{className:"size-3.5"})})})}var Z=t(42325),F=t(40519);function B(e){let{className:a,...t}=e;return(0,s.jsx)(Z.fC,{"data-slot":"radio-group",className:(0,y.cn)("grid gap-3",a),...t})}function E(e){let{className:a,...t}=e;return(0,s.jsx)(Z.ck,{"data-slot":"radio-group-item",className:(0,y.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...t,children:(0,s.jsx)(Z.z$,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,s.jsx)(F.Z,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var $=t(85317),Y=t(38553),O=t(91723),V=t(76399),U=t(76865),W=t(95805);function q(e){let{onComplete:a}=e,[t,c]=(0,r.useState)(0),[d,m]=(0,r.useState)(""),[h,x]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),[f,b]=(0,r.useState)(""),[j,v]=(0,r.useState)({hasPreferences:!1,cuisineTypes:[],foodStyle:"",spicyLevel:2,allergies:[],partySize:2,preferredTime:"",location:""}),y=async()=>{if(!navigator.geolocation){alert("Geolocation is not supported by this browser. You can still search manually."),v(e=>({...e,hasPreferences:!1})),M();return}x(!0);try{let i=await new Promise((e,a)=>{navigator.geolocation.getCurrentPosition(e,a,{enableHighAccuracy:!0,timeout:15e3,maximumAge:6e4})}),l={lat:i.coords.latitude,lng:i.coords.longitude};try{let i=await fetch("https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=".concat(l.lat,"&longitude=").concat(l.lng,"&localityLanguage=en"));if(i.ok){var e,a,t,s,r,n;let l=await i.json(),o=l.city||l.locality||l.principalSubdivision,c=(null===(t=l.localityInfo)||void 0===t?void 0:null===(a=t.administrative)||void 0===a?void 0:null===(e=a[2])||void 0===e?void 0:e.name)||(null===(n=l.localityInfo)||void 0===n?void 0:null===(r=n.administrative)||void 0===r?void 0:null===(s=r[1])||void 0===s?void 0:s.name),d=c&&c!==o?"".concat(c,", ").concat(o):o||"Current Location";b(d),v(e=>({...e,location:d}))}}catch(e){console.error("Reverse geocoding failed:",e),b("Current Location"),v(e=>({...e,location:"Current Location"}))}g(!0),v(e=>({...e,hasPreferences:!1})),setTimeout(()=>{M()},1500)}catch(a){console.error("Location access denied:",a);let e="Location access was denied. You can still find restaurants by searching manually.";if(a instanceof GeolocationPositionError)switch(a.code){case a.PERMISSION_DENIED:e="Location access denied. Please enable location services or search manually.";break;case a.POSITION_UNAVAILABLE:e="Location information unavailable. You can search manually instead.";break;case a.TIMEOUT:e="Location request timed out. You can search manually instead."}alert(e),v(e=>({...e,hasPreferences:!1})),M()}finally{x(!1)}},N=[{id:"italian",name:"Italian",icon:"\uD83C\uDF5D",description:"Pizza, Pasta, Risotto"},{id:"north-indian",name:"North Indian",icon:"\uD83C\uDF5B",description:"Curry, Naan, Biryani"},{id:"south-indian",name:"South Indian",icon:"\uD83E\uDD65",description:"Dosa, Idli, Sambar"},{id:"chinese",name:"Chinese",icon:"\uD83E\uDD62",description:"Noodles, Dim Sum, Stir Fry"},{id:"mexican",name:"Mexican",icon:"\uD83C\uDF2E",description:"Tacos, Burritos, Quesadillas"},{id:"thai",name:"Thai",icon:"\uD83C\uDF5C",description:"Pad Thai, Tom Yum, Green Curry"}],w=[{id:"fast-food",name:"Fast Food",description:"Quick service, casual dining"},{id:"casual",name:"Casual Dining",description:"Relaxed atmosphere, table service"},{id:"fine-dining",name:"Fine Dining",description:"Upscale, premium experience"},{id:"buffet",name:"Buffet",description:"All-you-can-eat variety"}],k=["Nuts","Dairy","Gluten","Shellfish","Eggs","Soy","Fish","Sesame"],C=[{level:0,name:"No Spice",description:"Mild and gentle"},{level:1,name:"Mild",description:"Just a hint of spice"},{level:2,name:"Medium",description:"Balanced heat"},{level:3,name:"Hot",description:"Spicy kick"},{level:4,name:"Very Hot",description:"Intense heat"}],P=e=>{v(a=>({...a,cuisineTypes:a.cuisineTypes.includes(e)?a.cuisineTypes.filter(a=>a!==e):[...a.cuisineTypes,e]}))},z=()=>{d.trim()&&!j.cuisineTypes.includes(d.trim().toLowerCase())&&(v(e=>({...e,cuisineTypes:[...e.cuisineTypes,d.trim().toLowerCase()]})),m(""))},L=e=>{v(a=>({...a,allergies:a.allergies.includes(e)?a.allergies.filter(a=>a!==e):[...a.allergies,e]}))},M=()=>{t<6&&c(t+1)},I=()=>{a(j)};return(0,s.jsx)("div",{className:"p-8",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsxs)("span",{className:"text-sm font-medium",children:["Step ",t+1," of 7"]}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:[Math.round((t+1)/7*100),"% Complete"]})]}),(0,s.jsx)("div",{className:"w-full bg-muted rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-gradient-to-r from-primary to-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat((t+1)/7*100,"%")}})})]}),(()=>{switch(t){case 0:return(0,s.jsxs)(l.Zb,{className:"border-0 shadow-none",children:[(0,s.jsxs)(l.Ol,{className:"text-center pb-8",children:[(0,s.jsx)("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-primary to-blue-600 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)($.Z,{className:"w-8 h-8 text-white"})}),(0,s.jsx)(l.ll,{className:"text-2xl",children:"Welcome to TableBook!"}),(0,s.jsx)(l.SZ,{className:"text-lg",children:"Do you have any previous dining preferences saved with us?"})]}),(0,s.jsxs)(l.aY,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(i.z,{variant:j.hasPreferences?"default":"outline",className:"h-20 text-left justify-start p-6",onClick:()=>{v(e=>({...e,hasPreferences:!0})),c(6)},children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-semibold",children:"Yes, use my preferences"}),(0,s.jsx)("div",{className:"text-sm opacity-70",children:"Load saved dining preferences"})]})}),(0,s.jsx)(i.z,{variant:j.hasPreferences?"outline":"default",className:"h-20 text-left justify-start p-6",onClick:y,disabled:h,children:(0,s.jsxs)("div",{className:"flex items-center",children:[h?(0,s.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-current mr-3"}):p?(0,s.jsx)("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center mr-3",children:(0,s.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}):(0,s.jsx)(u.Z,{className:"w-5 h-5 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-semibold",children:h?"Getting your location...":p?"Location found: ".concat(f):"No, I'm new here"}),(0,s.jsx)("div",{className:"text-sm opacity-70",children:h?"Please allow location access":p?"Finding nearby restaurants":"Help me find nearby restaurants"})]})]})})]}),!p&&!h&&(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-4",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)(u.Z,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,s.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,s.jsx)("p",{className:"font-medium mb-1",children:"Why do we need your location?"}),(0,s.jsx)("p",{children:"We'll use your location to find the best restaurants near you and show accurate distances and travel times."})]})]})})]})]});case 1:return(0,s.jsxs)(l.Zb,{className:"border-0 shadow-none",children:[(0,s.jsxs)(l.Ol,{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-orange-500 to-red-600 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)(Y.Z,{className:"w-8 h-8 text-white"})}),(0,s.jsx)(l.ll,{className:"text-2xl",children:"What cuisine do you crave?"}),(0,s.jsx)(l.SZ,{children:"Select all the cuisines you'd like to explore (you can choose multiple)"})]}),(0,s.jsxs)(l.aY,{className:"space-y-6",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(e=>(0,s.jsx)(l.Zb,{className:"cursor-pointer transition-all duration-200 hover:shadow-md ".concat(j.cuisineTypes.includes(e.id)?"ring-2 ring-primary bg-primary/5":"hover:bg-muted/50"),onClick:()=>P(e.id),children:(0,s.jsxs)(l.aY,{className:"p-4 text-center",children:[(0,s.jsx)("div",{className:"text-3xl mb-2",children:e.icon}),(0,s.jsx)("div",{className:"font-semibold",children:e.name}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:e.description})]})},e.id))}),(0,s.jsxs)("div",{className:"border-t pt-6",children:[(0,s.jsx)(S._,{htmlFor:"custom-cuisine",className:"text-sm font-medium mb-2 block",children:"Don't see your favorite cuisine? Add it here:"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.I,{id:"custom-cuisine",value:d,onChange:e=>m(e.target.value),placeholder:"e.g., Korean, Lebanese, Ethiopian...",onKeyPress:e=>{"Enter"===e.key&&z()}}),(0,s.jsx)(i.z,{type:"button",onClick:z,disabled:!d.trim(),children:"Add"})]})]}),j.cuisineTypes.length>0&&(0,s.jsxs)("div",{className:"border-t pt-4",children:[(0,s.jsx)(S._,{className:"text-sm font-medium mb-2 block",children:"Selected Cuisines:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:j.cuisineTypes.map(e=>(0,s.jsxs)(o.C,{variant:"secondary",className:"cursor-pointer hover:bg-destructive hover:text-destructive-foreground",onClick:()=>P(e),children:[e," ✕"]},e))})]})]})]});case 2:return(0,s.jsxs)(l.Zb,{className:"border-0 shadow-none",children:[(0,s.jsxs)(l.Ol,{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-green-500 to-teal-600 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)(O.Z,{className:"w-8 h-8 text-white"})}),(0,s.jsx)(l.ll,{className:"text-2xl",children:"What's your dining style?"}),(0,s.jsx)(l.SZ,{children:"Choose the type of dining experience you prefer"})]}),(0,s.jsx)(l.aY,{children:(0,s.jsx)(B,{value:j.foodStyle,onValueChange:e=>v(a=>({...a,foodStyle:e})),className:"space-y-4",children:w.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:bg-muted/50",children:[(0,s.jsx)(E,{value:e.id,id:e.id}),(0,s.jsxs)(S._,{htmlFor:e.id,className:"flex-1 cursor-pointer",children:[(0,s.jsx)("div",{className:"font-semibold",children:e.name}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:e.description})]})]},e.id))})})]});case 3:return(0,s.jsxs)(l.Zb,{className:"border-0 shadow-none",children:[(0,s.jsxs)(l.Ol,{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-red-500 to-orange-600 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)(V.Z,{className:"w-8 h-8 text-white"})}),(0,s.jsx)(l.ll,{className:"text-2xl",children:"How spicy do you like it?"}),(0,s.jsx)(l.SZ,{children:"Tell us your preferred spice level"})]}),(0,s.jsxs)(l.aY,{className:"space-y-8",children:[(0,s.jsx)("div",{className:"px-4",children:(0,s.jsx)(T,{value:[j.spicyLevel],onValueChange:e=>v(a=>({...a,spicyLevel:e[0]})),max:4,min:0,step:1,className:"w-full"})}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"text-2xl mb-2",children:[Array.from({length:j.spicyLevel+1},(e,a)=>(0,s.jsx)("span",{className:"text-red-500",children:"\uD83C\uDF36️"},a)),0===j.spicyLevel&&(0,s.jsx)("span",{className:"text-2xl",children:"\uD83D\uDE0C"})]}),(0,s.jsx)("div",{className:"font-semibold text-lg",children:C[j.spicyLevel].name}),(0,s.jsx)("div",{className:"text-muted-foreground",children:C[j.spicyLevel].description})]})]})]});case 4:return(0,s.jsxs)(l.Zb,{className:"border-0 shadow-none",children:[(0,s.jsxs)(l.Ol,{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)(U.Z,{className:"w-8 h-8 text-white"})}),(0,s.jsx)(l.ll,{className:"text-2xl",children:"Any food allergies?"}),(0,s.jsx)(l.SZ,{children:"Select any allergies or dietary restrictions we should know about"})]}),(0,s.jsxs)(l.aY,{children:[(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:k.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(A,{id:e,checked:j.allergies.includes(e),onCheckedChange:()=>L(e)}),(0,s.jsx)(S._,{htmlFor:e,className:"text-sm font-medium cursor-pointer",children:e})]},e))}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)(S._,{htmlFor:"other-allergies",className:"text-sm font-medium",children:"Other allergies or dietary restrictions:"}),(0,s.jsx)(n.I,{id:"other-allergies",placeholder:"e.g., Vegetarian, Vegan, Keto...",className:"mt-2"})]})]})]});case 5:return(0,s.jsxs)(l.Zb,{className:"border-0 shadow-none",children:[(0,s.jsxs)(l.Ol,{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)(W.Z,{className:"w-8 h-8 text-white"})}),(0,s.jsx)(l.ll,{className:"text-2xl",children:"Party details"}),(0,s.jsx)(l.SZ,{children:"Tell us about your dining party and preferences"})]}),(0,s.jsxs)(l.aY,{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(S._,{htmlFor:"party-size",className:"text-sm font-medium mb-2 block",children:["How many people? (",j.partySize," ",1===j.partySize?"person":"people",")"]}),(0,s.jsx)(T,{value:[j.partySize],onValueChange:e=>v(a=>({...a,partySize:e[0]})),max:12,min:1,step:1,className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(S._,{className:"text-sm font-medium",children:"Preferred dining time:"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(n.I,{type:"time",value:j.preferredTime,onChange:e=>v(a=>({...a,preferredTime:e.target.value})),className:"w-full",placeholder:"Select time"})}),(0,s.jsxs)("div",{className:"flex space-x-1",children:[(0,s.jsx)(i.z,{type:"button",variant:j.preferredTime&&j.preferredTime<"12:00"?"default":"outline",size:"sm",onClick:()=>{if(j.preferredTime){let[e,a]=j.preferredTime.split(":"),t=Number.parseInt(e);if(t>=12){let e="".concat((12===t?0:t-12).toString().padStart(2,"0"),":").concat(a);v(a=>({...a,preferredTime:e}))}}else v(e=>({...e,preferredTime:"11:00"}))},children:"AM"}),(0,s.jsx)(i.z,{type:"button",variant:j.preferredTime&&j.preferredTime>="12:00"?"default":"outline",size:"sm",onClick:()=>{if(j.preferredTime){let[e,a]=j.preferredTime.split(":"),t=Number.parseInt(e);if(t<12){let e="".concat((0===t?12:t+12).toString().padStart(2,"0"),":").concat(a);v(a=>({...a,preferredTime:e}))}}else v(e=>({...e,preferredTime:"19:00"}))},children:"PM"})]})]}),j.preferredTime&&(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Selected time: ",(()=>{let[e,a]=j.preferredTime.split(":"),t=Number.parseInt(e);return"".concat(0===t?12:t>12?t-12:t,":").concat(a," ").concat(t>=12?"PM":"AM")})()]})]})]})]})]});case 6:return(0,s.jsxs)(l.Zb,{className:"border-0 shadow-none",children:[(0,s.jsxs)(l.Ol,{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-green-500 to-blue-600 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)(u.Z,{className:"w-8 h-8 text-white"})}),(0,s.jsx)(l.ll,{className:"text-2xl",children:"Perfect! Let's find your restaurant"}),(0,s.jsx)(l.SZ,{children:"Based on your preferences, we'll recommend the best restaurants for you"})]}),(0,s.jsxs)(l.aY,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[(0,s.jsx)("h3",{className:"font-semibold",children:"Your Preferences Summary:"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[j.cuisineTypes.length>0&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)("span",{className:"font-medium",children:"Cuisines:"}),j.cuisineTypes.map(e=>(0,s.jsx)(o.C,{variant:"secondary",children:e},e))]}),j.foodStyle&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Style:"})," ",j.foodStyle]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Spice Level:"})," ",C[j.spicyLevel].name]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Party Size:"})," ",j.partySize," ",1===j.partySize?"person":"people"]}),j.allergies.length>0&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)("span",{className:"font-medium",children:"Allergies:"}),j.allergies.map(e=>(0,s.jsx)(o.C,{variant:"outline",children:e},e))]})]})]}),(0,s.jsx)(i.z,{onClick:I,className:"w-full",size:"lg",children:"Find My Perfect Restaurant"})]})]});default:return null}})(),t>0&&t<6&&(0,s.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,s.jsx)(i.z,{variant:"outline",onClick:()=>{t>0&&c(t-1)},children:"Previous"}),(0,s.jsx)(i.z,{onClick:M,disabled:1===t&&0===j.cuisineTypes.length||2===t&&!j.foodStyle,children:"Next"})]})]})})}var H=t(86595),Q=t(13041);function G(e){let{preferences:a,onRestaurantSelect:t,onBack:n}=e,[c,d]=(0,r.useState)([]),[m,h]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(async()=>{h(!0),await new Promise(e=>setTimeout(e,2e3));let e=a||{cuisineTypes:[],spiceLevel:"Medium",diningStyle:"casual",allergies:[],partySize:2},t=[{id:"ai-1",name:"Spice Garden",cuisine:"North Indian",rating:4.8,priceRange:"$$",location:"Downtown",address:"123 Curry Street, Downtown",phone:"+1 (555) 123-4567",image:"/authentic-indian-restaurant-with-tandoor-and-tradi.jpg",coordinates:{lat:40.7128,lng:-74.006},distance:.8,tables:[{id:"ai-t1",number:1,capacity:2,location:"indoor",status:"available",x:50,y:50},{id:"ai-t2",number:2,capacity:4,location:"indoor",status:"available",x:150,y:50}],matchScore:95,matchReasons:["Perfect match for North Indian cuisine preference","Accommodates spice level: ".concat(e.spiceLevel),"No allergens in signature dishes","Available for party of "+e.partySize],aiRecommendation:"Highly recommended! Their butter chicken and biryani are exceptional, with customizable spice levels."},{id:"ai-3",name:"Chennai Express",cuisine:"South Indian",rating:4.7,priceRange:"$$",location:"Curry Hill",address:"789 Dosa Lane, Curry Hill",phone:"+1 (555) 345-6789",image:"/south-indian-restaurant-with-dosa-preparation-and-.jpg",coordinates:{lat:40.7505,lng:-73.9934},distance:.5,tables:[{id:"ai-t11",number:11,capacity:2,location:"indoor",status:"available",x:50,y:50},{id:"ai-t12",number:12,capacity:4,location:"indoor",status:"available",x:150,y:50}],matchScore:92,matchReasons:["Excellent match for South Indian cuisine","Authentic flavors with ".concat(e.spiceLevel," spice options"),"Vegetarian and allergy-friendly"],aiRecommendation:"Authentic South Indian flavors! Their dosas are crispy perfection and sambar is beautifully balanced."},{id:"ai-2",name:"Bella Vista",cuisine:"Italian",rating:4.6,priceRange:"$$$",location:"Little Italy",address:"456 Pasta Avenue, Little Italy",phone:"+1 (555) 234-5678",image:"/elegant-italian-restaurant-interior-with-garden-th.jpg",coordinates:{lat:40.7589,lng:-73.9851},distance:1.2,tables:[{id:"ai-t20",number:20,capacity:2,location:"indoor",status:"available",x:50,y:50},{id:"ai-t21",number:21,capacity:4,location:"indoor",status:"available",x:150,y:50}],matchScore:88,matchReasons:["Matches Italian cuisine preference","Excellent for ".concat(e.diningStyle," dining"),"Allergy-friendly options available"],aiRecommendation:"Perfect for Italian food lovers! Their pasta and wood-fired pizzas are outstanding with gluten-free options."}];e.cuisineTypes.length>0&&(t=t.filter(a=>e.cuisineTypes.some(e=>{let t=e.toLowerCase().replace(/[-\s]/g,""),s=a.cuisine.toLowerCase().replace(/[-\s]/g,"");return s.includes(t)||t.includes(s)||t.includes("indian")&&s.includes("indian")}))),"fast food"===e.diningStyle?t=t.filter(e=>e.cuisine.toLowerCase().includes("fast")||"$"===e.priceRange):("casual"===e.diningStyle||"fine dining"===e.diningStyle)&&(t=t.filter(e=>!e.cuisine.toLowerCase().includes("fast"))),d((t=t.map(a=>{let t=a.matchScore;return e.cuisineTypes.some(e=>a.cuisine.toLowerCase().includes(e.toLowerCase()))&&(t+=5),e.spiceLevel&&a.matchReasons.some(a=>a.toLowerCase().includes(e.spiceLevel.toLowerCase()))&&(t+=3),e.allergies.length>0&&a.matchReasons.some(e=>e.toLowerCase().includes("allergy")||e.toLowerCase().includes("dietary"))&&(t+=2),{...a,matchScore:Math.min(t,100)}})).sort((e,a)=>a.matchScore-e.matchScore)),h(!1)})()},[a]),m)?(0,s.jsxs)("div",{className:"p-8 text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,s.jsx)("h2",{className:"text-2xl font-bold mt-4",children:"Finding your perfect restaurants..."}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Our AI is analyzing your preferences and matching you with the best options"})]}):(0,s.jsx)("div",{className:"p-8",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsx)(i.z,{variant:"outline",onClick:n,className:"mb-4 bg-transparent",children:"← Back to Preferences"}),(0,s.jsx)("h2",{className:"text-3xl font-bold mb-2",children:"AI-Recommended Restaurants"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:"Based on your preferences, here are the perfect matches for you"}),(0,s.jsxs)("div",{className:"space-y-6",children:[c.map(e=>(0,s.jsx)(l.Zb,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:(0,s.jsxs)("div",{className:"md:flex",children:[(0,s.jsx)("div",{className:"md:w-1/3",children:(0,s.jsx)("img",{src:e.image||"/placeholder.svg?height=300&width=400&query=".concat(encodeURIComponent("premium ".concat(e.cuisine," restaurant interior"))),alt:e.name,className:"w-full h-48 md:h-full object-cover"})}),(0,s.jsxs)("div",{className:"md:w-2/3 p-6",children:[(0,s.jsx)(l.Ol,{className:"p-0 mb-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(l.ll,{className:"text-xl mb-2",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground mb-2",children:[(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(Y.Z,{className:"w-4 h-4 mr-1"}),e.cuisine]}),(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(H.Z,{className:"w-4 h-4 mr-1 fill-yellow-400 text-yellow-400"}),e.rating]}),(0,s.jsx)("span",{children:e.priceRange})]}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground mb-3",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4 mr-1"}),e.address," • ",e.distance," km away"]})]}),(0,s.jsxs)(o.C,{variant:"secondary",className:"bg-green-100 text-green-800",children:[e.matchScore,"% Match"]})]})}),(0,s.jsxs)(l.aY,{className:"p-0 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Why this restaurant is perfect for you:"}),(0,s.jsx)("ul",{className:"space-y-1",children:e.matchReasons.map((e,a)=>(0,s.jsxs)("li",{className:"text-sm text-muted-foreground flex items-start",children:[(0,s.jsx)("span",{className:"text-green-500 mr-2",children:"✓"}),e]},a))})]}),(0,s.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-3 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-1",children:"AI Recommendation:"}),(0,s.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:e.aiRecommendation})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(Q.Z,{className:"w-4 h-4 mr-1"}),e.phone]}),(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(W.Z,{className:"w-4 h-4 mr-1"}),"Table for ",(null==a?void 0:a.partySize)||2]})]}),(0,s.jsx)(i.z,{onClick:()=>t(e),children:"Book Table"})]})]})]})]})},e.id)),0===c.length&&(0,s.jsx)(l.Zb,{className:"text-center p-8",children:(0,s.jsxs)(l.aY,{children:[(0,s.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"No perfect matches found"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"We couldn't find restaurants that match all your preferences in your area."}),(0,s.jsx)(i.z,{variant:"outline",onClick:n,children:"Adjust Preferences"})]})})]})]})})}function J(){let[e,a]=(0,r.useState)("preferences"),[t,n]=(0,r.useState)(null),[i,l]=(0,r.useState)(""),[o,c]=(0,r.useState)(null),d=e=>{n(e),a("booking")};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-background via-card/30 to-background",children:[(0,s.jsx)("header",{className:"border-b border-border/50 bg-gradient-to-r from-background/95 to-card/95 backdrop-blur-md shadow-lg",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center space-x-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 gradient-primary rounded-xl flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,s.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"TableBook"}),(0,s.jsx)("div",{className:"w-1 h-8 bg-gradient-to-b from-primary to-accent rounded-full"}),(0,s.jsx)("span",{className:"text-muted-foreground font-semibold text-lg",children:"AI-Powered Reservations"})]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"hidden sm:flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-500 shadow-lg ".concat("preferences"===e?"gradient-primary text-white scale-110":"ai-matching"===e||"search"===e||"booking"===e||"success"===e?"bg-primary/20 text-primary border-2 border-primary/30":"bg-muted text-muted-foreground"),children:"1"}),(0,s.jsx)("div",{className:"w-16 h-2 rounded-full transition-all duration-500 ".concat("ai-matching"===e||"search"===e||"booking"===e||"success"===e?"gradient-primary":"bg-border")}),(0,s.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-500 shadow-lg ".concat("ai-matching"===e||"search"===e?"gradient-primary text-white scale-110":"booking"===e||"success"===e?"bg-primary/20 text-primary border-2 border-primary/30":"bg-muted text-muted-foreground"),children:"2"}),(0,s.jsx)("div",{className:"w-16 h-2 rounded-full transition-all duration-500 ".concat("booking"===e||"success"===e?"gradient-primary":"bg-border")}),(0,s.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-500 shadow-lg ".concat("booking"===e?"gradient-primary text-white scale-110":"success"===e?"bg-primary/20 text-primary border-2 border-primary/30":"bg-muted text-muted-foreground"),children:"3"}),(0,s.jsx)("div",{className:"w-16 h-2 rounded-full transition-all duration-500 ".concat("success"===e?"gradient-primary":"bg-border")}),(0,s.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-500 shadow-lg ".concat("success"===e?"gradient-primary text-white scale-110":"bg-muted text-muted-foreground"),children:"4"})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"text-lg font-bold text-foreground",children:["preferences"===e&&"Set Preferences","ai-matching"===e&&"AI Recommendations","search"===e&&"Find Restaurant","booking"===e&&"Make Reservation","success"===e&&"Booking Complete"]}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground font-medium",children:["Step"," ","preferences"===e?"1":"ai-matching"===e||"search"===e?"2":"booking"===e?"3":"4"," ","of 4"]})]})]})]})})}),(0,s.jsx)("main",{className:"container mx-auto px-4 py-16",children:(0,s.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,s.jsxs)("div",{className:"gradient-card backdrop-blur-md rounded-3xl shadow-2xl border border-border/20 overflow-hidden animate-fade-in-up",children:["preferences"===e&&(0,s.jsx)(q,{onComplete:e=>{c(e),e.hasPreferences?a("search"):a("ai-matching")}}),"ai-matching"===e&&o&&(0,s.jsx)(G,{preferences:o,onRestaurantSelect:d,onBack:()=>{a("preferences"),c(null)}}),"search"===e&&(0,s.jsx)(m,{onRestaurantSelect:d}),"booking"===e&&t&&(0,s.jsx)(M,{restaurant:t,onBookingComplete:e=>{l(e),a("success")},onBack:"ai-matching"===e?()=>{a("ai-matching"),n(null)}:()=>{a("search"),n(null)}}),"success"===e&&(0,s.jsx)(I,{reservationId:i,onNewBooking:()=>{a("preferences"),n(null),l(""),c(null)}})]})})})]})}},65613:function(e,a,t){"use strict";t.d(a,{X:function(){return o},bZ:function(){return l}});var s=t(57437);t(2265);var r=t(90535),n=t(94508);let i=(0,r.j)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function l(e){let{className:a,variant:t,...r}=e;return(0,s.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,n.cn)(i({variant:t}),a),...r})}function o(e){let{className:a,...t}=e;return(0,s.jsx)("div",{"data-slot":"alert-description",className:(0,n.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...t})}},95186:function(e,a,t){"use strict";t.d(a,{I:function(){return n}});var s=t(57437);t(2265);var r=t(94508);function n(e){let{className:a,type:t,...n}=e;return(0,s.jsx)("input",{type:t,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...n})}},26815:function(e,a,t){"use strict";t.d(a,{_:function(){return i}});var s=t(57437);t(2265);var r=t(6394),n=t(94508);function i(e){let{className:a,...t}=e;return(0,s.jsx)(r.f,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...t})}},53647:function(e,a,t){"use strict";t.d(a,{Bw:function(){return m},Ph:function(){return c},Ql:function(){return h},i4:function(){return u},ki:function(){return d}});var s=t(57437);t(2265);var r=t(5056),n=t(40875),i=t(30401),l=t(22135),o=t(94508);function c(e){let{...a}=e;return(0,s.jsx)(r.fC,{"data-slot":"select",...a})}function d(e){let{...a}=e;return(0,s.jsx)(r.B4,{"data-slot":"select-value",...a})}function u(e){let{className:a,size:t="default",children:i,...l}=e;return(0,s.jsxs)(r.xz,{"data-slot":"select-trigger","data-size":t,className:(0,o.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...l,children:[i,(0,s.jsx)(r.JO,{asChild:!0,children:(0,s.jsx)(n.Z,{className:"size-4 opacity-50"})})]})}function m(e){let{className:a,children:t,position:n="popper",...i}=e;return(0,s.jsx)(r.h_,{children:(0,s.jsxs)(r.VY,{"data-slot":"select-content",className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...i,children:[(0,s.jsx)(x,{}),(0,s.jsx)(r.l_,{className:(0,o.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,s.jsx)(p,{})]})})}function h(e){let{className:a,children:t,...n}=e;return(0,s.jsxs)(r.ck,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",a),...n,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(r.wU,{children:(0,s.jsx)(i.Z,{className:"size-4"})})}),(0,s.jsx)(r.eT,{children:t})]})}function x(e){let{className:a,...t}=e;return(0,s.jsx)(r.u_,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...t,children:(0,s.jsx)(l.Z,{className:"size-4"})})}function p(e){let{className:a,...t}=e;return(0,s.jsx)(r.$G,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...t,children:(0,s.jsx)(n.Z,{className:"size-4"})})}},77580:function(e,a,t){"use strict";t.d(a,{q:function(){return r}});var s=t(27e3);class r{static async getAvailableSlots(e,a,t){await new Promise(e=>setTimeout(e,500));let r=s.bd.find(a=>a.id===e);r||(r={id:e,name:"Selected Restaurant",address:"",phone:"",email:"",cuisine:[],priceRange:"$$",rating:4.5,description:"",openingHours:{monday:{open:"11:00",close:"22:00"},tuesday:{open:"11:00",close:"22:00"},wednesday:{open:"11:00",close:"22:00"},thursday:{open:"11:00",close:"22:00"},friday:{open:"11:00",close:"23:00"},saturday:{open:"11:00",close:"23:00"},sunday:{open:"11:00",close:"21:00"}},tables:[{id:"t1",number:1,capacity:2,location:"indoor",status:"available",x:50,y:50},{id:"t2",number:2,capacity:4,location:"indoor",status:"available",x:150,y:50},{id:"t3",number:3,capacity:6,location:"indoor",status:"available",x:250,y:50},{id:"t4",number:4,capacity:8,location:"indoor",status:"available",x:50,y:150},{id:"t5",number:5,capacity:10,location:"private",status:"available",x:150,y:150}],managerId:"temp"});let n=[];for(let e of[{time:"11:30 AM",hour:11,minute:30},{time:"12:00 PM",hour:12,minute:0},{time:"12:30 PM",hour:12,minute:30},{time:"1:00 PM",hour:13,minute:0},{time:"1:30 PM",hour:13,minute:30},{time:"2:00 PM",hour:14,minute:0},{time:"5:30 PM",hour:17,minute:30},{time:"6:00 PM",hour:18,minute:0},{time:"6:30 PM",hour:18,minute:30},{time:"7:00 PM",hour:19,minute:0},{time:"7:30 PM",hour:19,minute:30},{time:"8:00 PM",hour:20,minute:0},{time:"8:30 PM",hour:20,minute:30},{time:"9:00 PM",hour:21,minute:0}]){let a=r.tables.filter(e=>e.capacity>=t&&"maintenance"!==e.status);if(a.length>0&&Math.random()>.2){let t=a.sort((e,a)=>e.capacity-a.capacity)[0];n.push({time:e.time,tableId:t.id,tableNumber:t.number,capacity:t.capacity})}}if(n.length<3)for(let e of["12:00 PM","6:30 PM","7:00 PM","8:00 PM"]){if(!n.some(a=>a.time===e)){let a=r.tables.find(e=>e.capacity>=t&&"maintenance"!==e.status);a&&n.push({time:e,tableId:a.id,tableNumber:a.number,capacity:a.capacity})}if(n.length>=4)break}return n.sort((e,a)=>this.parseTime(e.time)-this.parseTime(a.time)).slice(0,10)}static async createReservation(e){await new Promise(e=>setTimeout(e,1e3));let a={id:"res-".concat(Date.now()),restaurantId:e.restaurantId,tableId:e.tableId||"t1",customerId:"temp-customer",customerName:e.customerName,customerEmail:e.customerEmail,customerPhone:e.customerPhone,date:e.date,time:e.time,duration:120,partySize:e.partySize,status:e.paymentId?"confirmed":"pending",specialRequests:e.specialRequests,createdAt:new Date,updatedAt:new Date,paymentId:e.paymentId};if(s._$.push(a),e.tableId){let a=s.bd.find(a=>a.id===e.restaurantId);if(a){let t=a.tables.find(a=>a.id===e.tableId);t&&(t.status="reserved")}}return a.id}static searchRestaurants(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0;console.log("[v0] Searching restaurants with:",{query:e,cuisine:a,location:t,userCoords:r});let n=s.bd.filter(s=>{let n=!e||s.name.toLowerCase().includes(e.toLowerCase())||s.description.toLowerCase().includes(e.toLowerCase()),i="all"===a||!a||s.cuisine.some(e=>e.toLowerCase().includes(a.toLowerCase())),l=!0;return t&&"Detecting location..."!==t&&(l=!!r||s.address.toLowerCase().includes(t.toLowerCase())||this.isLocationNearby(s.address,t)),console.log("[v0] Restaurant:",s.name,{matchesQuery:n,matchesCuisine:i,matchesLocation:l,query:e,cuisine:a,location:t}),n&&i&&l});return r&&n.length>0&&console.log("[v0] Filtered by proximity, showing",(n=(n=this.sortByProximity(n,r)).filter(e=>{let a=this.getRestaurantCoords(e.id,r);return .1>=this.calculateDistance(r,a)})).length,"nearby restaurants"),0===n.length&&t&&"Detecting location..."!==t&&(console.log("[v0] No exact matches, trying broader location search"),n=s.bd.filter(t=>{let s=!e||t.name.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase()),r="all"===a||!a||t.cuisine.some(e=>e.toLowerCase().includes(a.toLowerCase()));return s&&r}),r&&(n=this.sortByProximity(n,r))),console.log("[v0] Search results:",n.length,"restaurants found"),n}static isLocationNearby(e,a){let t=e.toLowerCase().split(/[,\s]+/);return a.toLowerCase().split(/[,\s]+/).some(e=>e.length>2&&t.some(a=>a.includes(e)||e.includes(a)))}static getRestaurantCoords(e,a){return({"rest-1":{lat:a.lat+.005,lng:a.lng+.008},"rest-2":{lat:a.lat+.01,lng:a.lng+.01},"rest-3":{lat:a.lat+.015,lng:a.lng+.012},"rest-4":{lat:a.lat+.02,lng:a.lng+.018},"rest-5":{lat:a.lat+.008,lng:a.lng+.006},"rest-6":{lat:a.lat+.025,lng:a.lng-.01},"rest-7":{lat:a.lat+.012,lng:a.lng+.015},"rest-8":{lat:a.lat+.018,lng:a.lng+.022},"rest-9":{lat:a.lat+.006,lng:a.lng+.004}})[e]||{lat:a.lat+.1,lng:a.lng+.1}}static calculateDistance(e,a){return Math.sqrt(Math.pow(a.lat-e.lat,2)+Math.pow(a.lng-e.lng,2))}static sortByProximity(e,a){return e.sort((e,t)=>{let s=this.getRestaurantCoords(e.id,a),r=this.getRestaurantCoords(t.id,a);return this.calculateDistance(a,s)-this.calculateDistance(a,r)})}static async getLocationFromCoords(e,a){try{let o=await fetch("https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=".concat(e,"&longitude=").concat(a,"&localityLanguage=en"));if(o.ok){var t,s,r,n,i,l;let e=await o.json(),a=e.city||e.locality||e.principalSubdivision,c=(null===(r=e.localityInfo)||void 0===r?void 0:null===(s=r.administrative)||void 0===s?void 0:null===(t=s[2])||void 0===t?void 0:t.name)||(null===(l=e.localityInfo)||void 0===l?void 0:null===(i=l.administrative)||void 0===i?void 0:null===(n=i[1])||void 0===n?void 0:n.name);if(c&&c!==a)return"".concat(c,", ").concat(a);return a||"Current Location"}}catch(e){console.error("Reverse geocoding failed:",e)}for(let t of[{name:"Downtown",lat:40.7128,lng:-74.006,radius:.02},{name:"Midtown",lat:40.7589,lng:-73.9851,radius:.02},{name:"Uptown",lat:40.7831,lng:-73.9712,radius:.02},{name:"Westside",lat:40.7505,lng:-74.0021,radius:.02},{name:"Downtown Area",lat:40.708,lng:-74.0113,radius:.02}])if(Math.sqrt(Math.pow(e-t.lat,2)+Math.pow(a-t.lng,2))<=t.radius)return t.name;return"Location (".concat(e.toFixed(4),", ").concat(a.toFixed(4),")")}static parseTime(e){let[a,t]=e.split(" "),[s,r]=a.split(":").map(Number),n=s;return"PM"===t&&12!==s?n+=12:"AM"===t&&12===s&&(n=0),60*n+r}}}},function(e){e.O(0,[569,424,255,625,150,971,117,744],function(){return e(e.s=41795)}),_N_E=e.O()}]);