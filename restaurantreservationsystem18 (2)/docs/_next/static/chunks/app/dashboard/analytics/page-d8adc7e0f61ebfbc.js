(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[171],{53767:function(e,t,s){Promise.resolve().then(s.bind(s,79142))},79142:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Y}});var a=s(57437),r=s(2265),n=s(38426),l=s(99376),i=s(76443),o=s(66070);function c(e){let{data:t}=e,{reservationMetrics:s,revenueMetrics:r,customerMetrics:n,operationalMetrics:l}=t,i=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),c=e=>"".concat((100*e).toFixed(1),"%");return(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(o.ll,{className:"text-sm font-medium",children:"Total Revenue"}),(0,a.jsx)("svg",{className:"h-4 w-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})]}),(0,a.jsxs)(o.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:i(r.totalRevenue)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Avg ",i(r.averageRevenuePerReservation)," per reservation"]})]})]}),(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(o.ll,{className:"text-sm font-medium",children:"Total Reservations"}),(0,a.jsx)("svg",{className:"h-4 w-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]}),(0,a.jsxs)(o.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:s.totalReservations}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[s.confirmedReservations," confirmed, ",s.cancelledReservations," cancelled"]})]})]}),(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(o.ll,{className:"text-sm font-medium",children:"Customer Satisfaction"}),(0,a.jsx)("svg",{className:"h-4 w-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})]}),(0,a.jsxs)(o.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[n.customerSatisfaction,"/5.0"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[n.totalCustomers," total customers"]})]})]}),(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(o.ll,{className:"text-sm font-medium",children:"Occupancy Rate"}),(0,a.jsx)("svg",{className:"h-4 w-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})]}),(0,a.jsxs)(o.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:c(l.occupancyRate)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[l.averageTableTurnover,"x avg turnover"]})]})]}),(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(o.ll,{className:"text-sm font-medium",children:"Average Party Size"}),(0,a.jsx)("svg",{className:"h-4 w-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})]}),(0,a.jsxs)(o.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:s.averagePartySize.toFixed(1)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"people per reservation"})]})]}),(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(o.ll,{className:"text-sm font-medium",children:"New Customers"}),(0,a.jsx)("svg",{className:"h-4 w-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})]}),(0,a.jsxs)(o.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:n.newCustomers}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[c(n.newCustomers/n.totalCustomers)," of total"]})]})]}),(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(o.ll,{className:"text-sm font-medium",children:"Cancellation Rate"}),(0,a.jsx)("svg",{className:"h-4 w-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]}),(0,a.jsxs)(o.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:c(l.cancellationRate)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[c(l.noShowRate)," no-show rate"]})]})]}),(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)(o.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(o.ll,{className:"text-sm font-medium",children:"Waitlist Conversion"}),(0,a.jsx)("svg",{className:"h-4 w-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),(0,a.jsxs)(o.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:c(l.waitlistConversionRate)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"waitlist to booking"})]})]})]})}var d=s(91436),u=s(78155),h=s(53250),x=s(94508);let m={light:"",dark:".dark"},v=r.createContext(null);function j(e){let{id:t,className:s,children:n,config:l,...i}=e,o=r.useId(),c="chart-".concat(t||o.replace(/:/g,""));return(0,a.jsx)(v.Provider,{value:{config:l},children:(0,a.jsxs)("div",{"data-slot":"chart","data-chart":c,className:(0,x.cn)("[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden",s),...i,children:[(0,a.jsx)(f,{id:c,config:l}),(0,a.jsx)(d.h,{children:n})]})})}let f=e=>{let{id:t,config:s}=e,r=Object.entries(s).filter(e=>{let[,t]=e;return t.theme||t.color});return r.length?(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(m).map(e=>{let[s,a]=e;return"\n".concat(a," [data-chart=").concat(t,"] {\n").concat(r.map(e=>{var t;let[a,r]=e,n=(null===(t=r.theme)||void 0===t?void 0:t[s])||r.color;return n?"  --color-".concat(a,": ").concat(n,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},p=u.u;function g(e){let{active:t,payload:s,className:n,indicator:l="dot",hideLabel:i=!1,hideIndicator:o=!1,label:c,labelFormatter:d,labelClassName:u,formatter:h,color:m,nameKey:j,labelKey:f}=e,{config:p}=function(){let e=r.useContext(v);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}(),g=r.useMemo(()=>{var e;if(i||!(null==s?void 0:s.length))return null;let[t]=s,r="".concat(f||(null==t?void 0:t.dataKey)||(null==t?void 0:t.name)||"value"),n=b(p,t,r),l=f||"string"!=typeof c?null==n?void 0:n.label:(null===(e=p[c])||void 0===e?void 0:e.label)||c;return d?(0,a.jsx)("div",{className:(0,x.cn)("font-medium",u),children:d(l,s)}):l?(0,a.jsx)("div",{className:(0,x.cn)("font-medium",u),children:l}):null},[c,d,s,i,u,p,f]);if(!t||!(null==s?void 0:s.length))return null;let y=1===s.length&&"dot"!==l;return(0,a.jsxs)("div",{className:(0,x.cn)("border-border/50 bg-background grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl",n),children:[y?null:g,(0,a.jsx)("div",{className:"grid gap-1.5",children:s.map((e,t)=>{let s="".concat(j||e.name||e.dataKey||"value"),r=b(p,e,s),n=m||e.payload.fill||e.color;return(0,a.jsx)("div",{className:(0,x.cn)("[&>svg]:text-muted-foreground flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5","dot"===l&&"items-center"),children:h&&(null==e?void 0:e.value)!==void 0&&e.name?h(e.value,e.name,e,t,e.payload):(0,a.jsxs)(a.Fragment,{children:[(null==r?void 0:r.icon)?(0,a.jsx)(r.icon,{}):!o&&(0,a.jsx)("div",{className:(0,x.cn)("shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)",{"h-2.5 w-2.5":"dot"===l,"w-1":"line"===l,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===l,"my-0.5":y&&"dashed"===l}),style:{"--color-bg":n,"--color-border":n}}),(0,a.jsxs)("div",{className:(0,x.cn)("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[(0,a.jsxs)("div",{className:"grid gap-1.5",children:[y?g:null,(0,a.jsx)("span",{className:"text-muted-foreground",children:(null==r?void 0:r.label)||e.name})]}),e.value&&(0,a.jsx)("span",{className:"text-foreground font-mono font-medium tabular-nums",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})}function b(e,t,s){if("object"!=typeof t||null===t)return;let a="payload"in t&&"object"==typeof t.payload&&null!==t.payload?t.payload:void 0,r=s;return s in t&&"string"==typeof t[s]?r=t[s]:a&&s in a&&"string"==typeof a[s]&&(r=a[s]),r in e?e[r]:e[s]}h.D;var y=s(21156),N=s(56940),w=s(97059),k=s(62994),R=s(22800),C=s(77031),M=s(40626),z=s(86810),L=s(10062),S=s(20407);function _(e){let{data:t}=e,{revenueMetrics:s,reservationMetrics:r}=t,n=[{name:"Confirmed",value:r.confirmedReservations,color:"#22c55e"},{name:"Cancelled",value:r.cancelledReservations,color:"#ef4444"},{name:"No Show",value:r.noShowReservations,color:"#f97316"}];return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)(o.Ol,{children:[(0,a.jsx)(o.ll,{children:"Monthly Revenue Trend"}),(0,a.jsx)(o.SZ,{children:"Revenue performance over the last 6 months"})]}),(0,a.jsx)(o.aY,{children:(0,a.jsx)(j,{config:{revenue:{label:"Revenue",color:"hsl(var(--chart-1))"}},className:"h-[300px]",children:(0,a.jsx)(d.h,{width:"100%",height:"100%",children:(0,a.jsxs)(y.w,{data:s.revenueByMonth,children:[(0,a.jsx)(N.q,{strokeDasharray:"3 3"}),(0,a.jsx)(w.K,{dataKey:"month"}),(0,a.jsx)(k.B,{}),(0,a.jsx)(p,{content:(0,a.jsx)(g,{})}),(0,a.jsx)(R.x,{type:"monotone",dataKey:"revenue",stroke:"var(--color-revenue)",strokeWidth:2,dot:{fill:"var(--color-revenue)"}})]})})})})]}),(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)(o.Ol,{children:[(0,a.jsx)(o.ll,{children:"Revenue by Restaurant"}),(0,a.jsx)(o.SZ,{children:"Performance comparison across restaurants"})]}),(0,a.jsx)(o.aY,{children:(0,a.jsx)(j,{config:{revenue:{label:"Revenue",color:"hsl(var(--chart-2))"}},className:"h-[300px]",children:(0,a.jsx)(d.h,{width:"100%",height:"100%",children:(0,a.jsxs)(C.v,{data:s.revenueByRestaurant,children:[(0,a.jsx)(N.q,{strokeDasharray:"3 3"}),(0,a.jsx)(w.K,{dataKey:"restaurant"}),(0,a.jsx)(k.B,{}),(0,a.jsx)(p,{content:(0,a.jsx)(g,{})}),(0,a.jsx)(M.$,{dataKey:"revenue",fill:"var(--color-revenue)"})]})})})})]}),(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)(o.Ol,{children:[(0,a.jsx)(o.ll,{children:"Peak Reservation Hours"}),(0,a.jsx)(o.SZ,{children:"Most popular booking times"})]}),(0,a.jsx)(o.aY,{children:(0,a.jsx)(j,{config:{count:{label:"Reservations",color:"hsl(var(--chart-3))"}},className:"h-[300px]",children:(0,a.jsx)(d.h,{width:"100%",height:"100%",children:(0,a.jsxs)(C.v,{data:r.peakHours,children:[(0,a.jsx)(N.q,{strokeDasharray:"3 3"}),(0,a.jsx)(w.K,{dataKey:"hour"}),(0,a.jsx)(k.B,{}),(0,a.jsx)(p,{content:(0,a.jsx)(g,{})}),(0,a.jsx)(M.$,{dataKey:"count",fill:"var(--color-count)"})]})})})})]}),(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)(o.Ol,{children:[(0,a.jsx)(o.ll,{children:"Reservation Status Distribution"}),(0,a.jsx)(o.SZ,{children:"Breakdown of reservation outcomes"})]}),(0,a.jsx)(o.aY,{children:(0,a.jsx)(j,{config:{confirmed:{label:"Confirmed",color:"#22c55e"},cancelled:{label:"Cancelled",color:"#ef4444"},noShow:{label:"No Show",color:"#f97316"}},className:"h-[300px]",children:(0,a.jsx)(d.h,{width:"100%",height:"100%",children:(0,a.jsxs)(z.u,{children:[(0,a.jsx)(L.b,{data:n,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:e=>{let{name:t,percent:s}=e;return"".concat(t," ").concat((100*s).toFixed(0),"%")},children:n.map((e,t)=>(0,a.jsx)(S.b,{fill:e.color},"cell-".concat(t)))}),(0,a.jsx)(p,{content:(0,a.jsx)(g,{})})]})})})})]})]})}var D=s(60610);function O(e){let{className:t,value:s,...r}=e;return(0,a.jsx)(D.fC,{"data-slot":"progress",className:(0,x.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...r,children:(0,a.jsx)(D.z$,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})}var Z=s(35974);function B(e){let{data:t}=e,{operationalMetrics:s,customerMetrics:r,reservationMetrics:n}=t,l=e=>"".concat((100*e).toFixed(1),"%");return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)(o.Ol,{children:[(0,a.jsx)(o.ll,{children:"Table Utilization"}),(0,a.jsx)(o.SZ,{children:"Individual table performance and efficiency"})]}),(0,a.jsx)(o.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:s.tableUtilization.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-20",children:(0,a.jsxs)("span",{className:"text-sm font-medium",children:["Table ",e.tableNumber]})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(O,{value:100*e.utilizationRate,className:"h-2"})}),(0,a.jsx)("div",{className:"w-16 text-right",children:(0,a.jsx)("span",{className:"text-sm font-medium",children:l(e.utilizationRate)})})]},e.tableNumber))})})]}),(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)(o.Ol,{children:[(0,a.jsx)(o.ll,{children:"Popular Days"}),(0,a.jsx)(o.SZ,{children:"Busiest days of the week"})]}),(0,a.jsx)(o.aY,{children:(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:n.popularDays.map((e,t)=>(0,a.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:e.count}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.day}),0===t&&(0,a.jsx)(Z.C,{className:"mt-2 bg-green-100 text-green-800",children:"Most Popular"})]},e.day))})})]}),(0,a.jsxs)(o.Zb,{children:[(0,a.jsxs)(o.Ol,{children:[(0,a.jsx)(o.ll,{children:"Top Customers"}),(0,a.jsx)(o.SZ,{children:"Most valuable and frequent customers"})]}),(0,a.jsx)(o.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:r.topCustomers.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-bold",children:t+1}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.reservations," reservations"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-medium",children:["$",e.revenue]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"total revenue"})]})]},e.name))})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)(o.Zb,{children:[(0,a.jsx)(o.Ol,{children:(0,a.jsx)(o.ll,{children:"Performance Indicators"})}),(0,a.jsxs)(o.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Occupancy Rate"}),(0,a.jsx)("span",{className:"text-sm",children:l(s.occupancyRate)})]}),(0,a.jsx)(O,{value:100*s.occupancyRate}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Waitlist Conversion"}),(0,a.jsx)("span",{className:"text-sm",children:l(s.waitlistConversionRate)})]}),(0,a.jsx)(O,{value:100*s.waitlistConversionRate}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Cancellation Rate"}),(0,a.jsx)("span",{className:"text-sm",children:l(s.cancellationRate)})]}),(0,a.jsx)(O,{value:100*s.cancellationRate,className:"[&>div]:bg-red-500"})]})]}),(0,a.jsxs)(o.Zb,{children:[(0,a.jsx)(o.Ol,{children:(0,a.jsx)(o.ll,{children:"Operational Efficiency"})}),(0,a.jsxs)(o.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"text-3xl font-bold",children:[s.averageTableTurnover,"x"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Average Table Turnover"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 border rounded-lg",children:[(0,a.jsx)("div",{className:"text-xl font-bold",children:l(s.noShowRate)}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"No-Show Rate"})]}),(0,a.jsxs)("div",{className:"text-center p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"text-xl font-bold",children:[r.customerSatisfaction,"/5"]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Satisfaction"})]})]})]})]})]})]})}var P=s(62869),W=s(53647),U=s(27e3);class A{static async getAnalyticsData(e,t,s){await new Promise(e=>setTimeout(e,1e3));let a=U._$;return e&&(a=a.filter(t=>t.restaurantId===e)),t&&s&&(a=a.filter(e=>e.date>=t&&e.date<=s)),{reservationMetrics:{totalReservations:a.length,confirmedReservations:a.filter(e=>"confirmed"===e.status).length,cancelledReservations:a.filter(e=>"cancelled"===e.status).length,noShowReservations:a.filter(e=>"no-show"===e.status).length,averagePartySize:a.reduce((e,t)=>e+t.partySize,0)/a.length||0,peakHours:this.calculatePeakHours(a),popularDays:this.calculatePopularDays(a)},revenueMetrics:{totalRevenue:85*a.length,averageRevenuePerReservation:85,revenueByMonth:[{month:"Jan",revenue:12500},{month:"Feb",revenue:15200},{month:"Mar",revenue:18900},{month:"Apr",revenue:16800},{month:"May",revenue:21300},{month:"Jun",revenue:19600}],revenueByRestaurant:[{restaurant:"The Garden Bistro",revenue:45200},{restaurant:"Ocean View",revenue:32100},{restaurant:"City Grill",revenue:28900}]},customerMetrics:{totalCustomers:1250,newCustomers:180,returningCustomers:1070,customerSatisfaction:4.6,topCustomers:[{name:"John Smith",reservations:12,revenue:1020},{name:"Sarah Johnson",reservations:8,revenue:680},{name:"Mike Davis",reservations:6,revenue:510}]},operationalMetrics:{averageTableTurnover:2.3,occupancyRate:.78,waitlistConversionRate:.65,cancellationRate:.12,noShowRate:.08,tableUtilization:[{tableNumber:1,utilizationRate:.85},{tableNumber:2,utilizationRate:.92},{tableNumber:3,utilizationRate:.78},{tableNumber:4,utilizationRate:.65},{tableNumber:5,utilizationRate:.88},{tableNumber:6,utilizationRate:.72}]},dateRange:{start:t||"2024-01-01",end:s||"2024-06-30"}}}static calculatePeakHours(e){let t={};return e.forEach(e=>{let s=e.time.split(":")[0]+":00";t[s]=(t[s]||0)+1}),Object.entries(t).map(e=>{let[t,s]=e;return{hour:t,count:s}}).sort((e,t)=>t.count-e.count).slice(0,6)}static calculatePopularDays(e){let t={};return e.forEach(e=>{let s=new Date(e.date).toLocaleDateString("en-US",{weekday:"long"});t[s]=(t[s]||0)+1}),Object.entries(t).map(e=>{let[t,s]=e;return{day:t,count:s}}).sort((e,t)=>t.count-e.count)}static async exportAnalyticsReport(e,t){return await new Promise(e=>setTimeout(e,2e3)),"analytics-report-".concat(Date.now(),".").concat(t)}}var T=s(52255),V=s(26213),H=s(38549);function Y(){let{user:e,isAuthenticated:t,isLoading:s,logout:d}=(0,n.a)(),u=(0,l.useRouter)(),[h,x]=(0,r.useState)(null),[m,v]=(0,r.useState)(!1),[j,f]=(0,r.useState)("30days"),[p,g]=(0,r.useState)(!1),b=async()=>{await d(),u.push("/")};(0,r.useEffect)(()=>{if(!s&&!t){u.push("/login");return}if((null==e?void 0:e.role)!=="admin"){u.push("/dashboard");return}y()},[e,t,s,u,j]);let y=async()=>{v(!0);try{let e;let t=(0,T.WU)(new Date,"yyyy-MM-dd");switch(j){case"7days":e=(0,T.WU)((0,V.k)(new Date,7),"yyyy-MM-dd");break;case"30days":default:e=(0,T.WU)((0,V.k)(new Date,30),"yyyy-MM-dd");break;case"3months":e=(0,T.WU)((0,H.W)(new Date,3),"yyyy-MM-dd");break;case"6months":e=(0,T.WU)((0,H.W)(new Date,6),"yyyy-MM-dd")}let s=await A.getAnalyticsData(void 0,e,t);x(s)}catch(e){console.error("Failed to load analytics data:",e)}finally{v(!1)}},N=async e=>{if(h){g(!0);try{let t=await A.exportAnalyticsReport(h,e);console.log("Report exported: ".concat(t))}catch(e){console.error("Export failed:",e)}finally{g(!1)}}};return s||m?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2",children:"Loading analytics..."})]})}):e&&"admin"===e.role?(0,a.jsxs)("div",{className:"min-h-screen bg-background flex",children:[(0,a.jsx)(i.Y,{className:"w-64 flex-shrink-0"}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Analytics Dashboard"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Comprehensive business intelligence and performance metrics"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(W.Ph,{value:j,onValueChange:f,children:[(0,a.jsx)(W.i4,{className:"w-40",children:(0,a.jsx)(W.ki,{})}),(0,a.jsxs)(W.Bw,{children:[(0,a.jsx)(W.Ql,{value:"7days",children:"Last 7 days"}),(0,a.jsx)(W.Ql,{value:"30days",children:"Last 30 days"}),(0,a.jsx)(W.Ql,{value:"3months",children:"Last 3 months"}),(0,a.jsx)(W.Ql,{value:"6months",children:"Last 6 months"})]})]}),(0,a.jsx)(P.z,{variant:"outline",onClick:()=>N("csv"),disabled:p,children:"Export CSV"}),(0,a.jsx)(P.z,{variant:"outline",onClick:()=>N("pdf"),disabled:p,children:"Export PDF"}),(0,a.jsxs)(P.z,{variant:"outline",onClick:b,size:"lg",className:"hover:bg-card hover:border-primary/50 transition-all duration-300 shadow-lg bg-transparent",children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})]})}),h?(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(o.Zb,{children:(0,a.jsxs)(o.Ol,{children:[(0,a.jsx)(o.ll,{children:"Report Period"}),(0,a.jsxs)(o.SZ,{children:[(0,T.WU)(new Date(h.dateRange.start),"MMM dd, yyyy")," -"," ",(0,T.WU)(new Date(h.dateRange.end),"MMM dd, yyyy")]})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Key Metrics"}),(0,a.jsx)(c,{data:h})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Revenue & Reservations"}),(0,a.jsx)(_,{data:h})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Operational Insights"}),(0,a.jsx)(B,{data:h})]})]}):(0,a.jsx)(o.Zb,{children:(0,a.jsx)(o.aY,{className:"py-8 text-center",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No analytics data available"})})})]})})]}):null}},76443:function(e,t,s){"use strict";s.d(t,{Y:function(){return c}});var a=s(57437),r=s(94508),n=s(62869),l=s(38426),i=s(99376),o=s(27648);function c(e){let{className:t}=e,{user:s,logout:c}=(0,l.a)(),d=(0,i.useRouter)(),u=(0,i.usePathname)(),h=async()=>{await c(),d.push("/")},x=[{name:"Dashboard",href:"/dashboard",icon:(0,a.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h2a2 2 0 012 2v6H8V5z"})]})},{name:"Reservations",href:"/dashboard/reservations",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{name:"Tables",href:"/dashboard/tables",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})},{name:"Availability",href:"/dashboard/availability",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}];return(null==s?void 0:s.role)==="admin"&&x.push({name:"Analytics",href:"/dashboard/analytics",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,a.jsxs)("div",{className:(0,r.cn)("flex flex-col h-full bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 border-r border-slate-700/50 shadow-2xl",t),children:[(0,a.jsxs)("div",{className:"p-6 border-b border-slate-700/50 bg-gradient-to-r from-primary/10 to-transparent",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-white",children:"TableBook"}),(0,a.jsx)("p",{className:"text-sm text-slate-300",children:(null==s?void 0:s.role)==="admin"?"Admin Panel":"Manager Dashboard"})]}),(0,a.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2",children:x.map(e=>(0,a.jsx)(o.default,{href:e.href,children:(0,a.jsxs)(n.z,{variant:u===e.href?"secondary":"ghost",className:(0,r.cn)("w-full justify-start text-slate-300 hover:text-white hover:bg-slate-700/50 transition-all duration-200",u===e.href&&"bg-primary/20 text-primary-foreground border border-primary/30 shadow-lg"),children:[(0,a.jsx)("div",{className:"p-1 rounded-md bg-slate-700/50 mr-3",children:e.icon}),(0,a.jsx)("span",{className:"font-medium",children:e.name})]})},e.name))}),(0,a.jsxs)("div",{className:"p-4 border-t border-slate-700/50 bg-gradient-to-r from-slate-800/50 to-transparent",children:[(0,a.jsxs)("div",{className:"mb-4 p-3 bg-slate-800/50 rounded-lg border border-slate-700/30",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white",children:null==s?void 0:s.name}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:null==s?void 0:s.email}),(0,a.jsxs)("div",{className:"mt-2 text-xs text-slate-500 capitalize",children:[null==s?void 0:s.role," Account"]})]}),(0,a.jsxs)(n.z,{variant:"outline",onClick:h,className:"w-full bg-slate-700/30 border-slate-600/50 text-slate-300 hover:bg-slate-600/50 hover:text-white hover:border-slate-500 transition-all duration-200",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]})}},53647:function(e,t,s){"use strict";s.d(t,{Bw:function(){return h},Ph:function(){return c},Ql:function(){return x},i4:function(){return u},ki:function(){return d}});var a=s(57437);s(2265);var r=s(5056),n=s(40875),l=s(30401),i=s(22135),o=s(94508);function c(e){let{...t}=e;return(0,a.jsx)(r.fC,{"data-slot":"select",...t})}function d(e){let{...t}=e;return(0,a.jsx)(r.B4,{"data-slot":"select-value",...t})}function u(e){let{className:t,size:s="default",children:l,...i}=e;return(0,a.jsxs)(r.xz,{"data-slot":"select-trigger","data-size":s,className:(0,o.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i,children:[l,(0,a.jsx)(r.JO,{asChild:!0,children:(0,a.jsx)(n.Z,{className:"size-4 opacity-50"})})]})}function h(e){let{className:t,children:s,position:n="popper",...l}=e;return(0,a.jsx)(r.h_,{children:(0,a.jsxs)(r.VY,{"data-slot":"select-content",className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...l,children:[(0,a.jsx)(m,{}),(0,a.jsx)(r.l_,{className:(0,o.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,a.jsx)(v,{})]})})}function x(e){let{className:t,children:s,...n}=e;return(0,a.jsxs)(r.ck,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(r.wU,{children:(0,a.jsx)(l.Z,{className:"size-4"})})}),(0,a.jsx)(r.eT,{children:s})]})}function m(e){let{className:t,...s}=e;return(0,a.jsx)(r.u_,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(i.Z,{className:"size-4"})})}function v(e){let{className:t,...s}=e;return(0,a.jsx)(r.$G,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(n.Z,{className:"size-4"})})}},38426:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return o},a:function(){return c}});var a=s(57437),r=s(2265);let n=[{id:"1",email:"admin@restaurant.com",name:"Admin User",role:"admin",createdAt:new Date},{id:"2",email:"manager@restaurant.com",name:"Restaurant Manager",role:"manager",restaurantId:"rest-1",createdAt:new Date},{id:"3",email:"customer@example.com",name:"John Doe",role:"customer",createdAt:new Date}];class l{static getInstance(){return l.instance||(l.instance=new l),l.instance}async login(e,t){await new Promise(e=>setTimeout(e,1e3));let s=n.find(t=>t.email===e);if(!s)throw Error("Invalid credentials");return this.currentUser=s,localStorage.setItem("auth_user",JSON.stringify(s)),s}async register(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"customer";if(await new Promise(e=>setTimeout(e,1e3)),n.find(t=>t.email===e))throw Error("User already exists");let r={id:Date.now().toString(),email:e,name:s,role:a,createdAt:new Date};return n.push(r),r}async logout(){this.currentUser=null,localStorage.removeItem("auth_user")}getCurrentUser(){if(this.currentUser)return this.currentUser;let e=localStorage.getItem("auth_user");return e&&(this.currentUser=JSON.parse(e)),this.currentUser}isAuthenticated(){return null!==this.getCurrentUser()}hasRole(e){let t=this.getCurrentUser();return(null==t?void 0:t.role)===e}constructor(){this.currentUser=null}}let i=(0,r.createContext)(void 0);function o(e){let{children:t}=e,[s,n]=(0,r.useState)({user:null,isLoading:!0,isAuthenticated:!1}),o=l.getInstance();(0,r.useEffect)(()=>{let e=o.getCurrentUser();n({user:e,isLoading:!1,isAuthenticated:!!e})},[]);let c=async(e,t)=>{n(e=>({...e,isLoading:!0}));try{let s=await o.login(e,t);n({user:s,isLoading:!1,isAuthenticated:!0})}catch(e){throw n(e=>({...e,isLoading:!1})),e}},d=async(e,t,s)=>{n(e=>({...e,isLoading:!0}));try{await o.register(e,t,s),n(e=>({...e,isLoading:!1}))}catch(e){throw n(e=>({...e,isLoading:!1})),e}},u=async()=>{await o.logout(),n({user:null,isLoading:!1,isAuthenticated:!1})};return(0,a.jsx)(i.Provider,{value:{...s,login:c,register:d,logout:u},children:t})}function c(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[569,448,424,255,184,150,971,117,744],function(){return e(e.s=53767)}),_N_E=e.O()}]);