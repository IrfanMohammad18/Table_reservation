(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{20483:function(e,t,a){Promise.resolve().then(a.bind(a,37741))},37741:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var r=a(57437),s=a(2265),n=a(38426),i=a(99376),o=a(76443),l=a(66070),c=a(62869),d=a(27e3),u=a(35974),m=a(77580),h=a(83774),x=a(86595),g=a(91723);function p(){let[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(""),[i,o]=(0,s.useState)(!1),[d,p]=(0,s.useState)(""),f=async()=>{if(o(!0),p(""),!navigator.geolocation){p("Geolocation is not supported by this browser"),o(!1);return}navigator.geolocation.getCurrentPosition(async e=>{try{let{latitude:a,longitude:r}=e.coords,s=await m.q.getLocationFromCoords(a,r);n(s);let i=await m.q.searchRestaurants({location:s,userCoords:{lat:a,lng:r}});t(i)}catch(e){p("Failed to get location details")}finally{o(!1)}},e=>{let t="Failed to get your location";switch(e.code){case e.PERMISSION_DENIED:t="Location access denied. Please enable location permissions.";break;case e.POSITION_UNAVAILABLE:t="Location information unavailable.";break;case e.TIMEOUT:t="Location request timed out."}p(t),o(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})};return(0,r.jsxs)(l.Zb,{children:[(0,r.jsx)(l.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(l.ll,{className:"flex items-center space-x-2",children:[(0,r.jsx)(h.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Nearby Restaurants"})]}),(0,r.jsx)(l.SZ,{children:a?"Restaurants near ".concat(a):"Discover restaurants in your area"})]}),(0,r.jsx)(c.z,{onClick:f,disabled:i,variant:"outline",size:"sm",children:i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary mr-2"}),"Detecting..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),"Use My Location"]})})]})}),(0,r.jsxs)(l.aY,{children:[d&&(0,r.jsx)("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md mb-4",children:d}),e.length>0?(0,r.jsxs)("div",{className:"space-y-4",children:[e.slice(0,5).map(e=>(0,r.jsxs)("div",{className:"flex items-start space-x-4 p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-muted rounded-lg overflow-hidden flex-shrink-0",children:(0,r.jsx)("img",{src:e.image||"/placeholder.svg?height=64&width=64&query=".concat(encodeURIComponent("".concat(e.cuisine.join(" ")||"/placeholder.svg"," restaurant exterior storefront or interior dining area, professional photography, inviting atmosphere"))),alt:"".concat(e.name," - ").concat(e.cuisine.join(", ")," restaurant"),className:"w-full h-full object-cover"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("div",{className:"flex items-start justify-between",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-sm",children:e.name}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:e.address}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(x.Z,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),(0,r.jsx)("span",{children:e.rating})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(g.Z,{className:"w-3 h-3"}),(0,r.jsx)("span",{children:e.priceRange})]}),e.distance&&(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)(h.Z,{className:"w-3 h-3"}),(0,r.jsxs)("span",{children:[e.distance.toFixed(1)," km"]})]})]})]})}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:e.cuisine.slice(0,3).map(e=>(0,r.jsx)(u.C,{variant:"secondary",className:"text-xs",children:e},e))})]})]},e.id)),e.length>5&&(0,r.jsxs)("p",{className:"text-xs text-muted-foreground text-center pt-2",children:["And ",e.length-5," more restaurants nearby"]})]}):a&&!i?(0,r.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,r.jsx)(h.Z,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,r.jsx)("p",{className:"text-sm",children:"No restaurants found in your area"})]}):a||i?null:(0,r.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,r.jsx)(h.Z,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,r.jsx)("p",{className:"text-sm",children:'Click "Use My Location" to find nearby restaurants'})]})]})]})}var f=a(79205);let v=(0,f.Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),b=(0,f.Z)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);var j=a(13041);class y{async getNearbyRestaurants(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2],await new Promise(e=>setTimeout(e,1e3)),[{place_id:"ChIJ1234567890",name:"Maharaja Indian Cuisine",vicinity:"123 Main Street, Downtown",rating:4.5,price_level:2,types:["restaurant","food","establishment","indian_restaurant"],geometry:{location:{lat:e+.001,lng:t+.001}},formatted_phone_number:"+1 (555) 123-4567",formatted_address:"123 Main Street, Downtown, NY 10001",opening_hours:{open_now:!0,weekday_text:["Monday: 11:00 AM – 10:00 PM","Tuesday: 11:00 AM – 10:00 PM"]}},{place_id:"ChIJ0987654321",name:"Spice Garden Indian Restaurant",vicinity:"456 Oak Avenue, Midtown",rating:4.3,price_level:2,types:["restaurant","food","establishment","indian_restaurant"],geometry:{location:{lat:e+.002,lng:t-.001}},formatted_phone_number:"+1 (555) 234-5678",formatted_address:"456 Oak Avenue, Midtown, NY 10002",opening_hours:{open_now:!0,weekday_text:["Monday: 12:00 PM – 11:00 PM","Tuesday: 12:00 PM – 11:00 PM"]}},{place_id:"ChIJ1122334455",name:"Bombay Palace",vicinity:"789 Pine Street, Uptown",rating:4.7,price_level:3,types:["restaurant","food","establishment","indian_restaurant"],geometry:{location:{lat:e-.001,lng:t+.002}},formatted_phone_number:"+1 (555) 345-6789",formatted_address:"789 Pine Street, Uptown, NY 10003",opening_hours:{open_now:!1,weekday_text:["Monday: 5:00 PM – 11:00 PM","Tuesday: 5:00 PM – 11:00 PM"]}},{place_id:"ChIJ5566778899",name:"Curry House Express",vicinity:"321 Elm Street, Westside",rating:4.1,price_level:1,types:["restaurant","food","establishment","indian_restaurant","meal_takeaway"],geometry:{location:{lat:e+.003,lng:t-.002}},formatted_phone_number:"+1 (555) 456-7890",formatted_address:"321 Elm Street, Westside, NY 10004",opening_hours:{open_now:!0,weekday_text:["Monday: 10:00 AM – 10:00 PM","Tuesday: 10:00 AM – 10:00 PM"]}},{place_id:"ChIJ9988776655",name:"Tandoori Nights",vicinity:"654 Cedar Lane, Eastside",rating:4.4,price_level:2,types:["restaurant","food","establishment","indian_restaurant"],geometry:{location:{lat:e-.002,lng:t-.001}},formatted_phone_number:"+1 (555) 567-8901",formatted_address:"654 Cedar Lane, Eastside, NY 10005",opening_hours:{open_now:!0,weekday_text:["Monday: 4:00 PM – 11:00 PM","Tuesday: 4:00 PM – 11:00 PM"]}}]}calculateDistance(e,t,a,r){let s=(a-e)*Math.PI/180,n=(r-t)*Math.PI/180,i=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e*Math.PI/180)*Math.cos(a*Math.PI/180)*Math.sin(n/2)*Math.sin(n/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371}async getAIRecommendations(e,t){return await new Promise(e=>setTimeout(e,800)),e.map(e=>{var a;let r=0,s=[],n="";return e.rating>=4.5?(r+=30,s.push("Excellent ratings")):e.rating>=4&&(r+=20,s.push("Great reviews")),e.price_level===t.priceRange&&(r+=25,s.push("Perfect price range")),t.cuisine&&e.types.includes("indian_restaurant")&&(r+=35,s.push("Matches cuisine preference")),(null===(a=e.opening_hours)||void 0===a?void 0:a.open_now)&&(r+=10,s.push("Currently open")),n=r>=80?"Highly recommended based on your preferences. Excellent match for cuisine, price, and quality.":r>=60?"Good match for your preferences with solid ratings and convenient location.":r>=40?"Decent option that meets some of your criteria. Worth considering.":"Alternative option with unique features that might interest you.",{restaurant:{id:e.place_id,name:e.name,cuisine:"Indian",rating:e.rating,priceRange:"$".repeat(e.price_level||1),location:e.vicinity,address:e.formatted_address||e.vicinity,phone:e.formatted_phone_number||"Not available",image:"/indian-restaurant-interior.png",availableTimes:["6:00 PM","7:00 PM","8:00 PM","9:00 PM"],coordinates:e.geometry.location},reason:n,matchScore:r,highlights:s}}).sort((e,t)=>t.matchScore-e.matchScore)}}let w=new y;function N(){let[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null),[d,m]=(0,s.useState)(""),g=async()=>{n(!0);try{let{latitude:e,longitude:a}=(await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(e,t,{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})})).coords;o({lat:e,lng:a});try{let t=await fetch("https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=".concat(e,"&longitude=").concat(a,"&localityLanguage=en")),r=await t.json(),s="".concat(r.locality||r.city||"Unknown",", ").concat(r.principalSubdivision||r.countryName||"");m(s)}catch(t){m("".concat(e.toFixed(4),", ").concat(a.toFixed(4)))}let r=await w.getNearbyRestaurants(e,a),s=await w.getAIRecommendations(r,{cuisine:"indian",priceRange:2,rating:4});t(s)}catch(e){console.error("Error getting location:",e),alert("Unable to get your location. Please enable location services.")}finally{n(!1)}},p=e=>e>=80?"bg-green-500":e>=60?"bg-blue-500":e>=40?"bg-yellow-500":"bg-gray-500",f=e=>e>=80?"Perfect Match":e>=60?"Great Match":e>=40?"Good Match":"Alternative",y=e=>{var t;let a=(null===(t=e.cuisine)||void 0===t?void 0:t.toLowerCase())||"restaurant";return({italian:"premium Italian restaurant signature dish with fresh pasta, truffle garnish, elegant plating, and fine dining presentation",indian:"exquisite Indian cuisine with aromatic spices, traditional copper serving dishes, garnished curry, and royal presentation","north indian":"luxury North Indian dish with rich gravy, basmati rice, naan bread, elegant brass serving bowls, and royal garnish","south indian":"authentic South Indian feast with dosa, sambar, coconut chutney, banana leaf presentation, and traditional serving style",mediterranean:"gourmet Mediterranean platter with fresh seafood, olive oil drizzle, herbs, elegant white plate, and seaside ambiance",asian:"sophisticated Asian fusion dish with artistic plating, chopsticks, bamboo elements, and contemporary presentation",american:"premium American cuisine with grilled steak, seasonal vegetables, wine pairing, and upscale restaurant ambiance",mexican:"artisanal Mexican dish with colorful presentation, fresh ingredients, traditional pottery, and vibrant garnishes",french:"elegant French cuisine with wine sauce, microgreens, fine china, crystal glasses, and Michelin-star presentation",japanese:"premium sushi platter with fresh sashimi, wasabi, ginger, wooden board, and authentic Japanese presentation",european:"refined European dish with seasonal ingredients, wine pairing, elegant plating, and continental fine dining style","street food":"gourmet street food with elevated presentation, fresh ingredients, colorful garnish, and modern food truck style",vegetarian:"beautiful vegetarian dish with colorful vegetables, fresh herbs, artistic plating, and healthy presentation"})[a]||"premium ".concat(a," restaurant signature dish with professional plating, garnish, and fine dining presentation")};return(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{children:[(0,r.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(v,{className:"h-5 w-5 text-purple-600"}),"AI Restaurant Recommendations"]}),!i&&(0,r.jsxs)(c.z,{onClick:g,disabled:a,className:"w-fit bg-transparent",variant:"outline",children:[(0,r.jsx)(b,{className:"h-4 w-4 mr-2"}),a?"Detecting Location...":"Get AI Recommendations"]}),d&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,r.jsx)(h.Z,{className:"h-4 w-4"}),"Recommendations for: ",d]})]}),(0,r.jsxs)(l.aY,{children:[a&&(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Finding the best restaurants for you..."})]}),e.length>0&&(0,r.jsx)("div",{className:"space-y-4",children:e.map((e,t)=>(0,r.jsx)(l.Zb,{className:"border-l-4 border-l-purple-600",children:(0,r.jsxs)(l.aY,{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,r.jsx)("div",{className:"w-20 h-20 bg-muted rounded-lg overflow-hidden flex-shrink-0",children:(0,r.jsx)("img",{src:e.restaurant.image||"/placeholder.svg?height=80&width=80&query=".concat(encodeURIComponent(y(e.restaurant))||"/placeholder.svg"),alt:"".concat(e.restaurant.name," - Premium ").concat(e.restaurant.cuisine," cuisine"),className:"w-full h-full object-cover"})}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:e.restaurant.name}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,r.jsx)(x.Z,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.restaurant.rating," • ",e.restaurant.priceRange," • ",e.restaurant.cuisine]})]}),(0,r.jsx)(u.C,{className:"".concat(p(e.matchScore)," text-white"),children:f(e.matchScore)})]})})]}),(0,r.jsxs)("div",{className:"space-y-2 mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)(h.Z,{className:"h-4 w-4 text-muted-foreground"}),e.restaurant.address]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)(j.Z,{className:"h-4 w-4 text-muted-foreground"}),e.restaurant.phone]})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:[(0,r.jsx)("strong",{children:"AI Analysis:"})," ",e.reason]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:e.highlights.map((e,t)=>(0,r.jsx)(u.C,{variant:"secondary",className:"text-xs",children:e},t))})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(c.z,{size:"sm",className:"flex-1",children:"Book Table"}),(0,r.jsx)(c.z,{size:"sm",variant:"outline",children:"View Details"})]})]})},e.restaurant.id))}),!a&&0===e.length&&i&&(0,r.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,r.jsx)(v,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,r.jsx)("p",{children:"No restaurants found in your area. Try expanding your search radius."})]})]})]})}function k(){let{user:e,isAuthenticated:t,isLoading:a,logout:u}=(0,n.a)(),m=(0,i.useRouter)(),[h,x]=(0,s.useState)(null),[g,f]=(0,s.useState)([]);(0,s.useEffect)(()=>{if(!a&&!t){m.push("/login");return}if(e&&("manager"===e.role||"admin"===e.role)){let t=d.Tr.getRestaurantByManagerId(e.id);t&&(x(t),f(d.Tr.getReservationsByRestaurant(t.id)))}else(null==e?void 0:e.role)==="customer"&&m.push("/booking")},[e,t,a,m]);let v=async()=>{await u(),m.push("/")};if(a)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-card/30 to-background",children:(0,r.jsxs)("div",{className:"text-center animate-fade-in-up",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary border-t-transparent mx-auto mb-6"}),(0,r.jsx)("p",{className:"text-muted-foreground text-lg font-medium",children:"Loading dashboard..."})]})});if(!e||"customer"===e.role)return null;let b=g.filter(e=>{let t=new Date().toISOString().split("T")[0];return e.date===t}),j=g.filter(e=>"pending"===e.status),y=g.filter(e=>"confirmed"===e.status),w=(null==h?void 0:h.tables.filter(e=>"available"===e.status).length)||0,k=(null==h?void 0:h.tables.filter(e=>"occupied"===e.status).length)||0;return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-background via-card/20 to-background flex",children:[(0,r.jsx)(o.Y,{className:"w-64 flex-shrink-0 shadow-2xl"}),(0,r.jsx)("main",{className:"flex-1 p-8 overflow-auto",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsx)("div",{className:"mb-10 gradient-card rounded-3xl p-8 border border-border/20 shadow-xl animate-fade-in-up",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-5xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent mb-3",children:"Dashboard"}),(0,r.jsxs)("p",{className:"text-muted-foreground text-xl leading-relaxed",children:["Welcome back, ",(0,r.jsx)("span",{className:"font-bold text-foreground",children:e.name}),"! Here's what's happening at"," ",(0,r.jsx)("span",{className:"font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:(null==h?void 0:h.name)||"your restaurant"})," ","today."]})]}),(0,r.jsxs)(c.z,{variant:"outline",onClick:v,size:"lg",className:"hover:bg-card hover:border-primary/50 transition-all duration-300 shadow-lg bg-transparent",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10 animate-slide-in-right",children:[(0,r.jsxs)(l.Zb,{className:"gradient-card border border-border/20 shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-500 group",children:[(0,r.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[(0,r.jsx)(l.ll,{className:"text-sm font-bold text-card-foreground",children:"Today's Reservations"}),(0,r.jsx)("div",{className:"p-3 bg-primary/10 rounded-xl group-hover:bg-primary/20 transition-colors duration-300",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2z"})})})]}),(0,r.jsxs)(l.aY,{children:[(0,r.jsx)("div",{className:"text-4xl font-bold text-primary mb-2",children:b.length}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground font-medium",children:[j.length," pending approval"]})]})]}),(0,r.jsxs)(l.Zb,{className:"gradient-card border border-border/20 shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-500 group",children:[(0,r.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[(0,r.jsx)(l.ll,{className:"text-sm font-bold text-card-foreground",children:"Available Tables"}),(0,r.jsx)("div",{className:"p-3 bg-accent/10 rounded-xl group-hover:bg-accent/20 transition-colors duration-300",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-accent",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})})]}),(0,r.jsxs)(l.aY,{children:[(0,r.jsx)("div",{className:"text-4xl font-bold text-accent mb-2",children:w}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground font-medium",children:[k," currently occupied"]})]})]}),(0,r.jsxs)(l.Zb,{className:"gradient-card border border-border/20 shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-500 group",children:[(0,r.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[(0,r.jsx)(l.ll,{className:"text-sm font-bold text-card-foreground",children:"Confirmed Today"}),(0,r.jsx)("div",{className:"p-3 bg-primary/10 rounded-xl group-hover:bg-primary/20 transition-colors duration-300",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),(0,r.jsxs)(l.aY,{children:[(0,r.jsx)("div",{className:"text-4xl font-bold text-primary mb-2",children:y.length}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground font-medium",children:"Ready to serve"})]})]}),(0,r.jsxs)(l.Zb,{className:"gradient-card border border-border/20 shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-500 group",children:[(0,r.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[(0,r.jsx)(l.ll,{className:"text-sm font-bold text-card-foreground",children:"Restaurant Rating"}),(0,r.jsx)("div",{className:"p-3 bg-accent/10 rounded-xl group-hover:bg-accent/20 transition-colors duration-300",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-accent",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})})]}),(0,r.jsxs)(l.aY,{children:[(0,r.jsx)("div",{className:"text-4xl font-bold text-accent mb-2",children:(null==h?void 0:h.rating)||"4.5"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground font-medium",children:"Average customer rating"})]})]})]}),h&&(0,r.jsxs)(l.Zb,{className:"mb-10 gradient-card border border-border/20 shadow-xl animate-fade-in-up",children:[(0,r.jsxs)(l.Ol,{className:"bg-gradient-to-r from-primary/5 to-accent/5 rounded-t-2xl",children:[(0,r.jsx)(l.ll,{className:"text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:h.name}),(0,r.jsx)(l.SZ,{className:"text-lg text-muted-foreground",children:h.description})]}),(0,r.jsx)(l.aY,{className:"pt-8",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("p",{className:"font-bold text-foreground flex items-center text-lg",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center mr-3",children:(0,r.jsxs)("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),"Address"]}),(0,r.jsx)("p",{className:"text-muted-foreground pl-13",children:h.address})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("p",{className:"font-bold text-foreground flex items-center text-lg",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-accent/10 rounded-xl flex items-center justify-center mr-3",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-accent",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),"Contact"]}),(0,r.jsx)("p",{className:"text-muted-foreground pl-13",children:h.phone}),(0,r.jsx)("p",{className:"text-muted-foreground pl-13",children:h.email})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("p",{className:"font-bold text-foreground flex items-center text-lg",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center mr-3",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),"Cuisine"]}),(0,r.jsx)("p",{className:"text-muted-foreground pl-13",children:h.cuisine.join(", ")})]})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-10",children:[(0,r.jsx)(p,{}),(0,r.jsx)(N,{})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-slide-in-right",children:[(0,r.jsxs)(l.Zb,{className:"cursor-pointer gradient-card border border-border/20 shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-500 group",onClick:()=>m.push("/dashboard/reservations"),children:[(0,r.jsx)(l.Ol,{children:(0,r.jsxs)(l.ll,{className:"flex items-center space-x-4 text-xl",children:[(0,r.jsx)("div",{className:"p-3 bg-primary/10 rounded-xl group-hover:bg-primary/20 transition-colors duration-300",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2z"})})}),(0,r.jsx)("span",{className:"text-card-foreground",children:"Manage Reservations"})]})}),(0,r.jsx)(l.aY,{children:(0,r.jsx)(l.SZ,{className:"text-base text-muted-foreground",children:"View and manage all restaurant reservations"})})]}),(0,r.jsxs)(l.Zb,{className:"cursor-pointer gradient-card border border-border/20 shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-500 group",onClick:()=>m.push("/dashboard/tables"),children:[(0,r.jsx)(l.Ol,{children:(0,r.jsxs)(l.ll,{className:"flex items-center space-x-4 text-xl",children:[(0,r.jsx)("div",{className:"p-3 bg-accent/10 rounded-xl group-hover:bg-accent/20 transition-colors duration-300",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-accent",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,r.jsx)("span",{className:"text-card-foreground",children:"Table Layout"})]})}),(0,r.jsx)(l.aY,{children:(0,r.jsx)(l.SZ,{className:"text-base text-muted-foreground",children:"Configure table layout and availability"})})]}),"admin"===e.role&&(0,r.jsxs)(l.Zb,{className:"cursor-pointer gradient-card border border-border/20 shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-500 group",onClick:()=>m.push("/dashboard/analytics"),children:[(0,r.jsx)(l.Ol,{children:(0,r.jsxs)(l.ll,{className:"flex items-center space-x-4 text-xl",children:[(0,r.jsx)("div",{className:"p-3 bg-primary/10 rounded-xl group-hover:bg-primary/20 transition-colors duration-300",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,r.jsx)("span",{className:"text-card-foreground",children:"Analytics"})]})}),(0,r.jsx)(l.aY,{children:(0,r.jsx)(l.SZ,{className:"text-base text-muted-foreground",children:"View detailed analytics and reports"})})]})]})]})})]})}},76443:function(e,t,a){"use strict";a.d(t,{Y:function(){return c}});var r=a(57437),s=a(94508),n=a(62869),i=a(38426),o=a(99376),l=a(27648);function c(e){let{className:t}=e,{user:a,logout:c}=(0,i.a)(),d=(0,o.useRouter)(),u=(0,o.usePathname)(),m=async()=>{await c(),d.push("/")},h=[{name:"Dashboard",href:"/dashboard",icon:(0,r.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h2a2 2 0 012 2v6H8V5z"})]})},{name:"Reservations",href:"/dashboard/reservations",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{name:"Tables",href:"/dashboard/tables",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})},{name:"Availability",href:"/dashboard/availability",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}];return(null==a?void 0:a.role)==="admin"&&h.push({name:"Analytics",href:"/dashboard/analytics",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,r.jsxs)("div",{className:(0,s.cn)("flex flex-col h-full bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 border-r border-slate-700/50 shadow-2xl",t),children:[(0,r.jsxs)("div",{className:"p-6 border-b border-slate-700/50 bg-gradient-to-r from-primary/10 to-transparent",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-white",children:"TableBook"}),(0,r.jsx)("p",{className:"text-sm text-slate-300",children:(null==a?void 0:a.role)==="admin"?"Admin Panel":"Manager Dashboard"})]}),(0,r.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2",children:h.map(e=>(0,r.jsx)(l.default,{href:e.href,children:(0,r.jsxs)(n.z,{variant:u===e.href?"secondary":"ghost",className:(0,s.cn)("w-full justify-start text-slate-300 hover:text-white hover:bg-slate-700/50 transition-all duration-200",u===e.href&&"bg-primary/20 text-primary-foreground border border-primary/30 shadow-lg"),children:[(0,r.jsx)("div",{className:"p-1 rounded-md bg-slate-700/50 mr-3",children:e.icon}),(0,r.jsx)("span",{className:"font-medium",children:e.name})]})},e.name))}),(0,r.jsxs)("div",{className:"p-4 border-t border-slate-700/50 bg-gradient-to-r from-slate-800/50 to-transparent",children:[(0,r.jsxs)("div",{className:"mb-4 p-3 bg-slate-800/50 rounded-lg border border-slate-700/30",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-white",children:null==a?void 0:a.name}),(0,r.jsx)("p",{className:"text-xs text-slate-400",children:null==a?void 0:a.email}),(0,r.jsxs)("div",{className:"mt-2 text-xs text-slate-500 capitalize",children:[null==a?void 0:a.role," Account"]})]}),(0,r.jsxs)(n.z,{variant:"outline",onClick:m,className:"w-full bg-slate-700/30 border-slate-600/50 text-slate-300 hover:bg-slate-600/50 hover:text-white hover:border-slate-500 transition-all duration-200",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]})}},38426:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return l},a:function(){return c}});var r=a(57437),s=a(2265);let n=[{id:"1",email:"admin@restaurant.com",name:"Admin User",role:"admin",createdAt:new Date},{id:"2",email:"manager@restaurant.com",name:"Restaurant Manager",role:"manager",restaurantId:"rest-1",createdAt:new Date},{id:"3",email:"customer@example.com",name:"John Doe",role:"customer",createdAt:new Date}];class i{static getInstance(){return i.instance||(i.instance=new i),i.instance}async login(e,t){await new Promise(e=>setTimeout(e,1e3));let a=n.find(t=>t.email===e);if(!a)throw Error("Invalid credentials");return this.currentUser=a,localStorage.setItem("auth_user",JSON.stringify(a)),a}async register(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"customer";if(await new Promise(e=>setTimeout(e,1e3)),n.find(t=>t.email===e))throw Error("User already exists");let s={id:Date.now().toString(),email:e,name:a,role:r,createdAt:new Date};return n.push(s),s}async logout(){this.currentUser=null,localStorage.removeItem("auth_user")}getCurrentUser(){if(this.currentUser)return this.currentUser;let e=localStorage.getItem("auth_user");return e&&(this.currentUser=JSON.parse(e)),this.currentUser}isAuthenticated(){return null!==this.getCurrentUser()}hasRole(e){let t=this.getCurrentUser();return(null==t?void 0:t.role)===e}constructor(){this.currentUser=null}}let o=(0,s.createContext)(void 0);function l(e){let{children:t}=e,[a,n]=(0,s.useState)({user:null,isLoading:!0,isAuthenticated:!1}),l=i.getInstance();(0,s.useEffect)(()=>{let e=l.getCurrentUser();n({user:e,isLoading:!1,isAuthenticated:!!e})},[]);let c=async(e,t)=>{n(e=>({...e,isLoading:!0}));try{let a=await l.login(e,t);n({user:a,isLoading:!1,isAuthenticated:!0})}catch(e){throw n(e=>({...e,isLoading:!1})),e}},d=async(e,t,a)=>{n(e=>({...e,isLoading:!0}));try{await l.register(e,t,a),n(e=>({...e,isLoading:!1}))}catch(e){throw n(e=>({...e,isLoading:!1})),e}},u=async()=>{await l.logout(),n({user:null,isLoading:!1,isAuthenticated:!1})};return(0,r.jsx)(o.Provider,{value:{...a,login:c,register:d,logout:u},children:t})}function c(){let e=(0,s.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},77580:function(e,t,a){"use strict";a.d(t,{q:function(){return s}});var r=a(27e3);class s{static async getAvailableSlots(e,t,a){await new Promise(e=>setTimeout(e,500));let s=r.bd.find(t=>t.id===e);s||(s={id:e,name:"Selected Restaurant",address:"",phone:"",email:"",cuisine:[],priceRange:"$$",rating:4.5,description:"",openingHours:{monday:{open:"11:00",close:"22:00"},tuesday:{open:"11:00",close:"22:00"},wednesday:{open:"11:00",close:"22:00"},thursday:{open:"11:00",close:"22:00"},friday:{open:"11:00",close:"23:00"},saturday:{open:"11:00",close:"23:00"},sunday:{open:"11:00",close:"21:00"}},tables:[{id:"t1",number:1,capacity:2,location:"indoor",status:"available",x:50,y:50},{id:"t2",number:2,capacity:4,location:"indoor",status:"available",x:150,y:50},{id:"t3",number:3,capacity:6,location:"indoor",status:"available",x:250,y:50},{id:"t4",number:4,capacity:8,location:"indoor",status:"available",x:50,y:150},{id:"t5",number:5,capacity:10,location:"private",status:"available",x:150,y:150}],managerId:"temp"});let n=[];for(let e of[{time:"11:30 AM",hour:11,minute:30},{time:"12:00 PM",hour:12,minute:0},{time:"12:30 PM",hour:12,minute:30},{time:"1:00 PM",hour:13,minute:0},{time:"1:30 PM",hour:13,minute:30},{time:"2:00 PM",hour:14,minute:0},{time:"5:30 PM",hour:17,minute:30},{time:"6:00 PM",hour:18,minute:0},{time:"6:30 PM",hour:18,minute:30},{time:"7:00 PM",hour:19,minute:0},{time:"7:30 PM",hour:19,minute:30},{time:"8:00 PM",hour:20,minute:0},{time:"8:30 PM",hour:20,minute:30},{time:"9:00 PM",hour:21,minute:0}]){let t=s.tables.filter(e=>e.capacity>=a&&"maintenance"!==e.status);if(t.length>0&&Math.random()>.2){let a=t.sort((e,t)=>e.capacity-t.capacity)[0];n.push({time:e.time,tableId:a.id,tableNumber:a.number,capacity:a.capacity})}}if(n.length<3)for(let e of["12:00 PM","6:30 PM","7:00 PM","8:00 PM"]){if(!n.some(t=>t.time===e)){let t=s.tables.find(e=>e.capacity>=a&&"maintenance"!==e.status);t&&n.push({time:e,tableId:t.id,tableNumber:t.number,capacity:t.capacity})}if(n.length>=4)break}return n.sort((e,t)=>this.parseTime(e.time)-this.parseTime(t.time)).slice(0,10)}static async createReservation(e){await new Promise(e=>setTimeout(e,1e3));let t={id:"res-".concat(Date.now()),restaurantId:e.restaurantId,tableId:e.tableId||"t1",customerId:"temp-customer",customerName:e.customerName,customerEmail:e.customerEmail,customerPhone:e.customerPhone,date:e.date,time:e.time,duration:120,partySize:e.partySize,status:e.paymentId?"confirmed":"pending",specialRequests:e.specialRequests,createdAt:new Date,updatedAt:new Date,paymentId:e.paymentId};if(r._$.push(t),e.tableId){let t=r.bd.find(t=>t.id===e.restaurantId);if(t){let a=t.tables.find(t=>t.id===e.tableId);a&&(a.status="reserved")}}return t.id}static searchRestaurants(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3?arguments[3]:void 0;console.log("[v0] Searching restaurants with:",{query:e,cuisine:t,location:a,userCoords:s});let n=r.bd.filter(r=>{let n=!e||r.name.toLowerCase().includes(e.toLowerCase())||r.description.toLowerCase().includes(e.toLowerCase()),i="all"===t||!t||r.cuisine.some(e=>e.toLowerCase().includes(t.toLowerCase())),o=!0;return a&&"Detecting location..."!==a&&(o=!!s||r.address.toLowerCase().includes(a.toLowerCase())||this.isLocationNearby(r.address,a)),console.log("[v0] Restaurant:",r.name,{matchesQuery:n,matchesCuisine:i,matchesLocation:o,query:e,cuisine:t,location:a}),n&&i&&o});return s&&n.length>0&&console.log("[v0] Filtered by proximity, showing",(n=(n=this.sortByProximity(n,s)).filter(e=>{let t=this.getRestaurantCoords(e.id,s);return .1>=this.calculateDistance(s,t)})).length,"nearby restaurants"),0===n.length&&a&&"Detecting location..."!==a&&(console.log("[v0] No exact matches, trying broader location search"),n=r.bd.filter(a=>{let r=!e||a.name.toLowerCase().includes(e.toLowerCase())||a.description.toLowerCase().includes(e.toLowerCase()),s="all"===t||!t||a.cuisine.some(e=>e.toLowerCase().includes(t.toLowerCase()));return r&&s}),s&&(n=this.sortByProximity(n,s))),console.log("[v0] Search results:",n.length,"restaurants found"),n}static isLocationNearby(e,t){let a=e.toLowerCase().split(/[,\s]+/);return t.toLowerCase().split(/[,\s]+/).some(e=>e.length>2&&a.some(t=>t.includes(e)||e.includes(t)))}static getRestaurantCoords(e,t){return({"rest-1":{lat:t.lat+.005,lng:t.lng+.008},"rest-2":{lat:t.lat+.01,lng:t.lng+.01},"rest-3":{lat:t.lat+.015,lng:t.lng+.012},"rest-4":{lat:t.lat+.02,lng:t.lng+.018},"rest-5":{lat:t.lat+.008,lng:t.lng+.006},"rest-6":{lat:t.lat+.025,lng:t.lng-.01},"rest-7":{lat:t.lat+.012,lng:t.lng+.015},"rest-8":{lat:t.lat+.018,lng:t.lng+.022},"rest-9":{lat:t.lat+.006,lng:t.lng+.004}})[e]||{lat:t.lat+.1,lng:t.lng+.1}}static calculateDistance(e,t){return Math.sqrt(Math.pow(t.lat-e.lat,2)+Math.pow(t.lng-e.lng,2))}static sortByProximity(e,t){return e.sort((e,a)=>{let r=this.getRestaurantCoords(e.id,t),s=this.getRestaurantCoords(a.id,t);return this.calculateDistance(t,r)-this.calculateDistance(t,s)})}static async getLocationFromCoords(e,t){try{let l=await fetch("https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=".concat(e,"&longitude=").concat(t,"&localityLanguage=en"));if(l.ok){var a,r,s,n,i,o;let e=await l.json(),t=e.city||e.locality||e.principalSubdivision,c=(null===(s=e.localityInfo)||void 0===s?void 0:null===(r=s.administrative)||void 0===r?void 0:null===(a=r[2])||void 0===a?void 0:a.name)||(null===(o=e.localityInfo)||void 0===o?void 0:null===(i=o.administrative)||void 0===i?void 0:null===(n=i[1])||void 0===n?void 0:n.name);if(c&&c!==t)return"".concat(c,", ").concat(t);return t||"Current Location"}}catch(e){console.error("Reverse geocoding failed:",e)}for(let a of[{name:"Downtown",lat:40.7128,lng:-74.006,radius:.02},{name:"Midtown",lat:40.7589,lng:-73.9851,radius:.02},{name:"Uptown",lat:40.7831,lng:-73.9712,radius:.02},{name:"Westside",lat:40.7505,lng:-74.0021,radius:.02},{name:"Downtown Area",lat:40.708,lng:-74.0113,radius:.02}])if(Math.sqrt(Math.pow(e-a.lat,2)+Math.pow(t-a.lng,2))<=a.radius)return a.name;return"Location (".concat(e.toFixed(4),", ").concat(t.toFixed(4),")")}static parseTime(e){let[t,a]=e.split(" "),[r,s]=t.split(":").map(Number),n=r;return"PM"===a&&12!==r?n+=12:"AM"===a&&12===r&&(n=0),60*n+s}}},79205:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var r=a(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:t,...i,width:s,height:s,stroke:a,strokeWidth:l?24*Number(o)/Number(s):o,className:n("lucide",c),...m},[...u.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),l=(e,t)=>{let a=(0,r.forwardRef)((a,i)=>{let{className:l,...c}=a;return(0,r.createElement)(o,{ref:i,iconNode:t,className:n("lucide-".concat(s(e)),l),...c})});return a.displayName="".concat(e),a}},91723:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},83774:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},13041:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},86595:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])}},function(e){e.O(0,[569,448,150,971,117,744],function(){return e(e.s=20483)}),_N_E=e.O()}]);